{"version":3,"sources":["webpack:///./src/pages/center/system/pc/tabDetail.vue?5b1f","webpack:///./src/pages/center/system/pc/tabDetail.vue?7dd6","webpack:///src/pages/center/system/pc/tabDetail.vue","webpack:///./src/pages/center/system/pc/tabDetail.vue?5185","webpack:///./src/pages/center/system/pc/tabDetail.vue?027e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","id","directives","name","rawName","value","tabParams","expression","attrs","domProps","on","$event","target","composing","$set","_l","item","index","key","selectItemCate","cate","cate_index","removeItemCate","selectItemBrand","brand","brand_index","removeItemBrand","model","callback","$$v","shop","userConfig","singleChannel","channel","channelType","channelTypeName","addConditionItem","removeConditionItem","pickerOption","saveTab","selectedCateList","dialogCategory","dialogCategoryCancel","_e","selectedBrandList","dialogBrand","dialogBrandCancel","staticRenderFns","components","data","showCategoryModal","showBrandModal","cateList","brandList","shopList","channelList","currentCateItem","currentBrandItem","disabledDate","time","getTime","Date","now","title","startTime","endTime","status","conditionList","created","$route","params","console","log","api","store","allShop","then","goods","getDetail","methods","category","thirdCate","categoryUnitList","forEach","push","c","brandIdList","xb","shopIdList","channelTypeList","splice","copy","res","categoryList","$message","info","cateId1","cateId2","cateId3","empty","JSON","stringify","system","editTab","addTab","component"],"mappings":"2IAAA,yBAAomB,EAAG,G,yCCAvmB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACE,YAAY,SAAS,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,GAAK,KAAO,MAAM,SAASL,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,QAAQH,EAAG,QAAQ,CAACM,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOb,EAAIc,UAAe,MAAEC,WAAW,oBAAoBT,YAAY,eAAeU,MAAM,CAAC,KAAO,QAAQC,SAAS,CAAC,MAASjB,EAAIc,UAAe,OAAGI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqBrB,EAAIsB,KAAKtB,EAAIc,UAAW,QAASK,EAAOC,OAAOP,aAAab,EAAIuB,GAAIvB,EAAIc,UAAuB,cAAE,SAASU,EAAKC,GAAO,OAAOrB,EAAG,MAAM,CAACsB,IAAID,EAAM,MAAMnB,YAAY,YAAY,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAGP,EAAIQ,GAAW,IAARiB,EAAY,OAAS,OAAOrB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,QAAQH,EAAG,IAAI,CAACE,YAAY,gBAAgBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI2B,eAAeH,EAAMC,MAAU,CAACzB,EAAIO,GAAG,UAAUP,EAAIuB,GAAIC,EAAa,SAAE,SAASI,EAAKC,GAAY,OAAOzB,EAAG,OAAO,CAACsB,IAAIG,EAAW,OAAOJ,EAAMnB,YAAY,aAAa,CAACN,EAAIO,GAAG,iBAAiBP,EAAIQ,GAAGoB,EAAKjB,OAAOP,EAAG,IAAI,CAACE,YAAY,cAAcY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI8B,eAAeN,EAAMK,MAAe,CAAC7B,EAAIO,GAAG,YAAY,GAAGH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,QAAQH,EAAG,IAAI,CAACE,YAAY,gBAAgBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI+B,gBAAgBP,EAAMC,MAAU,CAACzB,EAAIO,GAAG,UAAUP,EAAIuB,GAAIC,EAAc,UAAE,SAASQ,EAAMC,GAAa,OAAO7B,EAAG,OAAO,CAACsB,IAAIO,EAAY,QAAQR,EAAMnB,YAAY,aAAa,CAACN,EAAIO,GAAG,iBAAiBP,EAAIQ,GAAGwB,EAAMrB,OAAOP,EAAG,IAAI,CAACE,YAAY,cAAcY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIkC,gBAAgBV,EAAMS,MAAgB,CAACjC,EAAIO,GAAG,YAAY,GAAGH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,QAAQH,EAAG,YAAY,CAACE,YAAY,iBAAiBU,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQ,YAAc,OAAOmB,MAAM,CAACtB,MAAOW,EAAe,WAAEY,SAAS,SAAUC,GAAMrC,EAAIsB,KAAKE,EAAM,aAAca,IAAMtB,WAAW,oBAAoBf,EAAIuB,GAAIvB,EAAY,SAAE,SAASsC,GAAM,OAAOlC,EAAG,YAAY,CAACsB,IAAIY,EAAK7B,GAAGO,MAAM,CAAC,MAAQsB,EAAK3B,KAAK,MAAQ2B,EAAK7B,QAAQ,IAAI,GAAGL,EAAG,MAAM,CAACM,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQb,EAAIuC,WAAWC,cAAezB,WAAW,8BAA8BT,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACN,EAAIO,GAAG,QAAQH,EAAG,YAAY,CAACE,YAAY,iBAAiBU,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQ,YAAc,OAAOmB,MAAM,CAACtB,MAAOW,EAAoB,gBAAEY,SAAS,SAAUC,GAAMrC,EAAIsB,KAAKE,EAAM,kBAAmBa,IAAMtB,WAAW,yBAAyBf,EAAIuB,GAAIvB,EAAe,YAAE,SAASyC,GAAS,OAAOrC,EAAG,YAAY,CAACsB,IAAIe,EAAQC,YAAY1B,MAAM,CAAC,MAAQyB,EAAQE,gBAAgB,MAAQF,EAAQC,iBAAiB,IAAI,GAAGtC,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACM,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAe,IAARY,EAAWV,WAAW,cAAcG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI4C,sBAAsB,CAAC5C,EAAIO,GAAG,QAAQH,EAAG,IAAI,CAACM,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOY,EAAM,EAAGV,WAAW,YAAYT,YAAY,mBAAmBY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI6C,oBAAoBpB,MAAU,CAACzB,EAAIO,GAAG,gBAAgBH,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,UAAUH,EAAG,iBAAiB,CAACE,YAAY,qBAAqBU,MAAM,CAAC,KAAO,WAAW,eAAe,sBAAsB,KAAO,QAAQ,YAAc,MAAM,iBAAiBhB,EAAI8C,cAAcX,MAAM,CAACtB,MAAOb,EAAIc,UAAmB,UAAEsB,SAAS,SAAUC,GAAMrC,EAAIsB,KAAKtB,EAAIc,UAAW,YAAauB,IAAMtB,WAAW,yBAAyBX,EAAG,iBAAiB,CAACE,YAAY,qBAAqBU,MAAM,CAAC,KAAO,WAAW,eAAe,sBAAsB,KAAO,QAAQ,YAAc,MAAM,iBAAiBhB,EAAI8C,cAAcX,MAAM,CAACtB,MAAOb,EAAIc,UAAiB,QAAEsB,SAAS,SAAUC,GAAMrC,EAAIsB,KAAKtB,EAAIc,UAAW,UAAWuB,IAAMtB,WAAW,wBAAwB,GAAGX,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,UAAUH,EAAG,WAAW,CAACE,YAAY,QAAQU,MAAM,CAAC,MAAQ,GAAGmB,MAAM,CAACtB,MAAOb,EAAIc,UAAgB,OAAEsB,SAAS,SAAUC,GAAMrC,EAAIsB,KAAKtB,EAAIc,UAAW,SAAUuB,IAAMtB,WAAW,qBAAqB,CAACf,EAAIO,GAAG,QAAQH,EAAG,WAAW,CAACE,YAAY,QAAQU,MAAM,CAAC,MAAQ,GAAGmB,MAAM,CAACtB,MAAOb,EAAIc,UAAgB,OAAEsB,SAAS,SAAUC,GAAMrC,EAAIsB,KAAKtB,EAAIc,UAAW,SAAUuB,IAAMtB,WAAW,qBAAqB,CAACf,EAAIO,GAAG,SAAS,IAAI,GAAGH,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,WAAWU,MAAM,CAAC,KAAO,gBAAgBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAI+C,aAAa,CAAC/C,EAAIO,GAAG,QAAQH,EAAG,cAAc,CAACE,YAAY,gBAAgBU,MAAM,CAAC,GAAK,CAAEL,KAAM,SAAS,CAACX,EAAIO,GAAG,SAAS,GAAIP,EAAqB,kBAAEI,EAAG,iBAAiB,CAACY,MAAM,CAAC,SAAWhB,EAAIgD,kBAAkB9B,GAAG,CAAC,eAAiBlB,EAAIiD,eAAe,qBAAuBjD,EAAIkD,wBAAwBlD,EAAImD,KAAMnD,EAAkB,eAAEI,EAAG,cAAc,CAACY,MAAM,CAAC,SAAWhB,EAAIoD,mBAAmBlC,GAAG,CAAC,YAAclB,EAAIqD,YAAY,kBAAoBrD,EAAIsD,qBAAqBtD,EAAImD,MAAM,IACtrKI,EAAkB,G,8CC+EtB,GACEC,WAAY,CAAd,0CACEC,KAFF,WAGI,MAAO,CACLhD,GAAI,GACJiD,mBAAmB,EACnBC,gBAAgB,EAChBC,SAAU,GACVC,UAAW,GACXC,SAAU,GACVC,YAAa,GACbC,iBAAkB,EAClBhB,iBAAkB,GAClBiB,kBAAmB,EACnBb,kBAAmB,GACnBN,aAAc,CACZoB,aADR,SACA,GACU,OAAOC,EAAKC,UAAYC,KAAKC,MAAvC,QAGMxD,UAAW,CACTL,GAAI,GACJ8D,MAAO,GACPC,UAAW,GACXC,QAAS,GACTC,OAAQ,EACRC,cAAe,CACvB,CACU,SAAV,GACU,UAAV,GACU,WAAV,GACU,gBAAV,QAMEC,QArCF,WAqCA,WACI3E,KAAKQ,GAAKR,KAAK4E,OAAOC,OAAOrE,IAAM,GACnCsE,QAAQC,IAAI/E,KAAKQ,IACjBR,KAAKgF,IAAIC,MAAMC,QAAQ,IAAIC,KAAK,SAApC,GACM,EAAN,kBAEInF,KAAKgF,IAAII,MAAM5C,QAAQ,IAAI2C,KAAK,SAApC,GACM,EAAN,qBAEA,SACMnF,KAAKqF,aAGTC,QAAS,CAEPD,UAFJ,WAEA,WACMrF,KAAKgF,IAAIO,SAASC,UAAU,IAAIL,KAAK,SAA3C,GACQ,EAAR,yBACQ,EAAR,0CACU,EAAV,iBACU,EAAV,iDACY,EAAZ,uBACY,EAAZ,6BACY,EAAZ,qCACY,EAAZ,iCACY,EAAZ,+BACY,EAAZ,6CACY,EAAZ,4CACc,EAAd,sBACc,EAAd,uBACc5D,EAAKkE,iBAAiBC,QAAQ,SAA5C,GACgB,EAAhB,6BACA,kBACoBnE,EAAKoC,SAASgC,KAAK,CACjBjF,KAAMkF,EAAElF,KACRF,GAAIoF,EAAEpF,SAKde,EAAKsE,YAAYH,QAAQ,SAAvC,GACgB,EAAhB,8BACA,UACoBnE,EAAKqC,UAAU+B,KAAKG,gBASpCnD,iBAvCJ,WAwCM3C,KAAKa,UAAU6D,cAAciB,KAAK,CAChChC,SAAU,GACVC,UAAW,GACXmC,WAAY,GACZC,gBAAiB,MAGrBpD,oBA/CJ,SA+CA,GACM5C,KAAKa,UAAU6D,cAAcuB,OAAOzE,EAAO,IAE7CE,eAlDJ,SAkDA,KACM1B,KAAK+D,gBAAkB/D,KAAKkG,KAAK1E,GACjCxB,KAAK+C,iBAAmBxB,EAAKoC,UAAY,GACzC3D,KAAKyD,mBAAoB,GAE3B5B,eAvDJ,SAuDA,KACMN,EAAKoC,SAASsC,OAAOzE,EAAO,IAE9BM,gBA1DJ,SA0DA,KACM9B,KAAKgE,iBAAmBhE,KAAKkG,KAAK1E,GAClCxB,KAAKmD,kBAAoB5B,EAAKqC,WAAa,GAC3C5D,KAAK0D,gBAAiB,GAExBzB,gBA/DJ,SA+DA,KACMV,EAAKqC,UAAUqC,OAAOzE,EAAO,IAE/BwB,eAlEJ,SAkEA,GACA,yBACQhD,KAAKa,UAAU6D,cAAc1E,KAAK+D,iBAAiBJ,SAAWwC,EAAIC,aAClEpG,KAAKyD,mBAAoB,EACzBzD,KAAK+D,iBAAmB,GAExB/D,KAAKqG,SAASC,KAAK,CAA3B,+BAGIrD,qBA3EJ,WA4EMjD,KAAKyD,mBAAoB,GAE3BL,YA9EJ,SA8EA,GACA,0BACQpD,KAAKa,UAAU6D,cAAc1E,KAAKgE,kBAAkBJ,UAAYuC,EAAIvC,UACpE5D,KAAK0D,gBAAiB,EACtB1D,KAAKgE,kBAAoB,GAEzBhE,KAAKqG,SAASC,KAAK,CAA3B,+BAGIjD,kBAvFJ,WAwFMrD,KAAK0D,gBAAiB,GAExBZ,QA1FJ,WA0FA,WACA,4BACA,wBACA,sBACM,GAAN,KAEQ,OADA9C,KAAKqG,SAASC,KAAK,gBACZ,EAETzB,EAAOH,cAAcgB,QAAQ,SAAnC,GACQnE,EAAKkE,iBAAmB,GACxBlE,EAAKsE,YAAc,GAC3B,iCACUtE,EAAKoC,SAAS+B,QAAQ,SAAhC,GACYnE,EAAKkE,iBAAiBE,KAAK,CACzBY,QAAS,EACTC,QAAS,EACTC,QAAS9E,EAAKnB,OAI5B,mCACUe,EAAKqC,UAAU8B,QAAQ,SAAjC,GACYnE,EAAKsE,YAAYF,KAAK5D,EAAMvB,aAGzBe,EAAKoC,gBACLpC,EAAKqC,iBACLrC,EAAKmF,QAEd7B,EAAOH,cAAgBiC,KAAKC,UAAU/B,EAAOH,eACnD,KACQ1E,KAAKgF,IAAI6B,OAAOC,QAAQjC,GAAQM,KAAK,SAA7C,GACU,EAAV,mDACU,EAAV,6BAGQnF,KAAKgF,IAAI6B,OAAOE,OAAOlC,GAAQM,KAAK,SAA5C,GACU,EAAV,mDACU,EAAV,gCClQgY,I,wBCQ5X6B,EAAY,eACd,EACAlH,EACAwD,GACA,EACA,KACA,WACA,MAIa,aAAA0D,E","file":"js/chunk-833192d8.8a58bc43.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabDetail.vue?vue&type=style&index=0&id=7aa76787&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabDetail.vue?vue&type=style&index=0&id=7aa76787&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-detail\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.id ? '编辑' : '新增')+\"tab\")]),_c('div',{staticClass:\"tab-wrap\"},[_c('div',{staticClass:\"tab-item\"},[_c('span',{staticClass:\"tab-title\"},[_vm._v(\"标题\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tabParams.title),expression:\"tabParams.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.tabParams.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tabParams, \"title\", $event.target.value)}}})]),_vm._l((_vm.tabParams.conditionList),function(item,index){return _c('div',{key:index+'tab',staticClass:\"tab-item\"},[_c('span',{staticClass:\"tab-title\"},[_vm._v(_vm._s(index===0 ? '组合条件' : ''))]),_c('div',{staticClass:\"item-condition\"},[_c('div',{staticClass:\"condition-row\"},[_c('span',{staticClass:\"condition-title\"},[_vm._v(\"类目\")]),_c('a',{staticClass:\"btn-fill-main\",on:{\"click\":function($event){return _vm.selectItemCate(item, index)}}},[_vm._v(\"选择类目\")]),_vm._l((item.cateList),function(cate,cate_index){return _c('span',{key:cate_index+'cate'+index,staticClass:\"btn-small\"},[_vm._v(\"\\n            \"+_vm._s(cate.name)),_c('a',{staticClass:\"delete-icon\",on:{\"click\":function($event){return _vm.removeItemCate(item, cate_index)}}},[_vm._v(\"X\")])])})],2),_c('div',{staticClass:\"condition-row\"},[_c('span',{staticClass:\"condition-title\"},[_vm._v(\"品牌\")]),_c('a',{staticClass:\"btn-fill-main\",on:{\"click\":function($event){return _vm.selectItemBrand(item, index)}}},[_vm._v(\"选择品牌\")]),_vm._l((item.brandList),function(brand,brand_index){return _c('span',{key:brand_index+'brand'+index,staticClass:\"btn-small\"},[_vm._v(\"\\n            \"+_vm._s(brand.name)),_c('a',{staticClass:\"delete-icon\",on:{\"click\":function($event){return _vm.removeItemBrand(item, brand_index)}}},[_vm._v(\"X\")])])})],2),_c('div',{staticClass:\"condition-row\"},[_c('span',{staticClass:\"condition-title\"},[_vm._v(\"店铺\")]),_c('el-select',{staticClass:\"multipleSelect\",attrs:{\"multiple\":\"\",\"size\":\"small\",\"placeholder\":\"请选择\"},model:{value:(item.shopIdList),callback:function ($$v) {_vm.$set(item, \"shopIdList\", $$v)},expression:\"item.shopIdList\"}},_vm._l((_vm.shopList),function(shop){return _c('el-option',{key:shop.id,attrs:{\"label\":shop.name,\"value\":shop.id}})}),1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.userConfig.singleChannel),expression:\"!userConfig.singleChannel\"}],staticClass:\"condition-row\"},[_c('span',{staticClass:\"condition-title\"},[_vm._v(\"渠道\")]),_c('el-select',{staticClass:\"multipleSelect\",attrs:{\"multiple\":\"\",\"size\":\"small\",\"placeholder\":\"请选择\"},model:{value:(item.channelTypeList),callback:function ($$v) {_vm.$set(item, \"channelTypeList\", $$v)},expression:\"item.channelTypeList\"}},_vm._l((_vm.channelList),function(channel){return _c('el-option',{key:channel.channelType,attrs:{\"label\":channel.channelTypeName,\"value\":channel.channelType}})}),1)],1),_c('div',{staticClass:\"condition-btn\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(index===0),expression:\"index===0\"}],on:{\"click\":function($event){return _vm.addConditionItem()}}},[_vm._v(\"添加\")]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(index>0),expression:\"index>0\"}],staticClass:\"delete-condition\",on:{\"click\":function($event){return _vm.removeConditionItem(index)}}},[_vm._v(\"删除\")])])])])}),_c('div',{staticClass:\"tab-item\"},[_c('span',{staticClass:\"tab-title\"},[_vm._v(\"起止时间\")]),_c('el-date-picker',{staticClass:\"timepicker-control\",attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"size\":\"small\",\"placeholder\":\"请选择\",\"picker-options\":_vm.pickerOption},model:{value:(_vm.tabParams.startTime),callback:function ($$v) {_vm.$set(_vm.tabParams, \"startTime\", $$v)},expression:\"tabParams.startTime\"}}),_c('el-date-picker',{staticClass:\"timepicker-control\",attrs:{\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"size\":\"small\",\"placeholder\":\"请选择\",\"picker-options\":_vm.pickerOption},model:{value:(_vm.tabParams.endTime),callback:function ($$v) {_vm.$set(_vm.tabParams, \"endTime\", $$v)},expression:\"tabParams.endTime\"}})],1),_c('div',{staticClass:\"tab-item\"},[_c('span',{staticClass:\"tab-title\"},[_vm._v(\"是否启用\")]),_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":1},model:{value:(_vm.tabParams.status),callback:function ($$v) {_vm.$set(_vm.tabParams, \"status\", $$v)},expression:\"tabParams.status\"}},[_vm._v(\"启用\")]),_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":0},model:{value:(_vm.tabParams.status),callback:function ($$v) {_vm.$set(_vm.tabParams, \"status\", $$v)},expression:\"tabParams.status\"}},[_vm._v(\"禁用\")])],1)],2),_c('div',{staticClass:\"bot-btn\"},[_c('a',{staticClass:\"btn-main\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.saveTab()}}},[_vm._v(\"保存\")]),_c('router-link',{staticClass:\"btn-fill-main\",attrs:{\"to\":{ name: '电脑端'}}},[_vm._v(\"返回\")])],1),(_vm.showCategoryModal)?_c('selectCategory',{attrs:{\"selected\":_vm.selectedCateList},on:{\"dialogCategory\":_vm.dialogCategory,\"dialogCategoryCancel\":_vm.dialogCategoryCancel}}):_vm._e(),(_vm.showBrandModal)?_c('selectBrand',{attrs:{\"selected\":_vm.selectedBrandList},on:{\"dialogBrand\":_vm.dialogBrand,\"dialogBrandCancel\":_vm.dialogBrandCancel}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tab-detail\">\n    <h2 class=\"title\">{{id ? '编辑' : '新增'}}tab</h2>\n    <div class=\"tab-wrap\">\n      <div class=\"tab-item\">\n        <span class=\"tab-title\">标题</span>\n        <input type=\"text\" class=\"form-control\" v-model=\"tabParams.title\" />\n      </div>\n      <div class=\"tab-item\" v-for=\"(item, index) in tabParams.conditionList\" :key=\"index+'tab'\">\n        <span class=\"tab-title\">{{index===0 ? '组合条件' : ''}}</span>\n        <div class=\"item-condition\">\n          <div class=\"condition-row\">\n            <span class=\"condition-title\">类目</span>\n            <a class=\"btn-fill-main\" @click=\"selectItemCate(item, index)\">选择类目</a>\n            <span class=\"btn-small\" v-for=\"(cate, cate_index) in item.cateList\" :key=\"cate_index+'cate'+index\">\n              {{cate.name}}<a class=\"delete-icon\" @click=\"removeItemCate(item, cate_index)\">X</a>\n            </span>\n          </div>\n          <div class=\"condition-row\">\n            <span class=\"condition-title\">品牌</span>\n            <a class=\"btn-fill-main\" @click=\"selectItemBrand(item, index)\">选择品牌</a>\n            <span class=\"btn-small\" v-for=\"(brand, brand_index) in item.brandList\" :key=\"brand_index+'brand'+index\">\n              {{brand.name}}<a class=\"delete-icon\" @click=\"removeItemBrand(item, brand_index)\">X</a>\n            </span>\n          </div>\n          <div class=\"condition-row\">\n            <span class=\"condition-title\">店铺</span>\n            <el-select v-model=\"item.shopIdList\" multiple size=\"small\" placeholder=\"请选择\" class=\"multipleSelect\">\n              <el-option\n                v-for=\"shop in shopList\"\n                :key=\"shop.id\"\n                :label=\"shop.name\"\n                :value=\"shop.id\">\n              </el-option>\n            </el-select>\n          </div>\n          <div class=\"condition-row\" v-show=\"!userConfig.singleChannel\">\n            <span class=\"condition-title\">渠道</span>\n            <el-select v-model=\"item.channelTypeList\" multiple size=\"small\" placeholder=\"请选择\" class=\"multipleSelect\">\n              <el-option\n                v-for=\"channel in channelList\"\n                :key=\"channel.channelType\"\n                :label=\"channel.channelTypeName\"\n                :value=\"channel.channelType\">\n              </el-option>\n            </el-select>\n          </div>\n          <div class=\"condition-btn\">\n            <a @click=\"addConditionItem()\" v-show=\"index===0\">添加</a>\n            <a class=\"delete-condition\" @click=\"removeConditionItem(index)\" v-show=\"index>0\">删除</a>\n          </div>\n        </div>\n      </div>\n      <div class=\"tab-item\">\n        <span class=\"tab-title\">起止时间</span>\n        <el-date-picker class=\"timepicker-control\" type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"  size=\"small\" placeholder=\"请选择\" \n          v-model=\"tabParams.startTime\" :picker-options=\"pickerOption\" \n          ></el-date-picker>\n        <el-date-picker class=\"timepicker-control\" type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"  size=\"small\" placeholder=\"请选择\" \n          v-model=\"tabParams.endTime\" :picker-options=\"pickerOption\" \n          ></el-date-picker>\n      </div>\n      <div class=\"tab-item\">\n        <span class=\"tab-title\">是否启用</span>\n        <el-radio v-model=\"tabParams.status\" :label=\"1\" class=\"radio\">启用</el-radio>\n        <el-radio v-model=\"tabParams.status\" :label=\"0\" class=\"radio\">禁用</el-radio>\n      </div>\n    </div>\n    <div class=\"bot-btn\">\n      <a href=\"javascript:;\" class=\"btn-main\" @click=\"saveTab()\">保存</a>\n      <router-link class=\"btn-fill-main\" :to=\"{ name: '电脑端'}\">返回</router-link>\n    </div>\n    <selectCategory v-if=\"showCategoryModal\" v-on:dialogCategory=\"dialogCategory\" v-on:dialogCategoryCancel=\"dialogCategoryCancel\" :selected=\"selectedCateList\"></selectCategory>\n    <selectBrand v-if=\"showBrandModal\" v-on:dialogBrand=\"dialogBrand\" v-on:dialogBrandCancel=\"dialogBrandCancel\" :selected=\"selectedBrandList\"></selectBrand>\n  </div>\n</template>\n\n<script>\nimport selectCategory from '@/components/selectCategory/index.vue';\nimport selectBrand from '@/components/selectBrand/index.vue';\nexport default {\n  components: { selectCategory, selectBrand },\n  data() {\n    return {\n      id: '',\n      showCategoryModal: false,\n      showBrandModal: false,\n      cateList: [],\n      brandList: [],\n      shopList: [],\n      channelList: [],\n      currentCateItem: -1,\n      selectedCateList: [],\n      currentBrandItem: -1,\n      selectedBrandList: [],\n      pickerOption: {\n        disabledDate(time) {\n          return time.getTime() < Date.now()-8.64e7;\n        }\n      },\n      tabParams: {\n        id: '',\n        title: '',\n        startTime: '',\n        endTime: '',\n        status: 0,\n        conditionList: [\n          {\n            cateList: [],\n            brandList: [],\n            shopIdList: [],\n            channelTypeList: []\n          }\n        ]\n      }\n    }\n  },\n  created() {\n    this.id = this.$route.params.id || '';\n    console.log(this.id);\n    this.api.store.allShop({}).then((res) => {\n      this.shopList = res.data;\n    });\n    this.api.goods.channel({}).then((res) => {\n      this.channelList = res.data;\n    });\n    if(this.id) {\n      this.getDetail();\n    }\n  },\n  methods: {\n    //获取类目信息\n    getDetail() {\n      this.api.category.thirdCate({}).then((res) => {\n        this.cateList = res.data.dataList;\n        this.api.brand.letterList({}).then((resBrand) => {\n          this.brandList = resBrand.data;\n          this.api.system.tabDetail({id: this.id}).then((res) => {\n            this.tabParams.id = res.data.id;\n            this.tabParams.title = res.data.title;\n            this.tabParams.startTime = res.data.startTime;\n            this.tabParams.endTime = res.data.endTime;\n            this.tabParams.status = res.data.status;\n            this.tabParams.conditionList = res.data.conditionList;\n            this.tabParams.conditionList.forEach(item => {\n              this.$set(item, 'cateList', []);\n              this.$set(item, 'brandList', []);\n              item.categoryUnitList.forEach(cate => {\n                this.cateList.forEach(c => {\n                  if(c.id === cate.cateId3) {\n                    item.cateList.push({\n                      name: c.name,\n                      id: c.id\n                    });\n                  }\n                });\n              });\n              item.brandIdList.forEach(brand => {\n                this.brandList.forEach(xb => {\n                  if(xb.id === brand) {\n                    item.brandList.push(xb);\n                  }\n                });\n              });\n            });\n          });\n        });\n      });\n    },\n    addConditionItem() {\n      this.tabParams.conditionList.push({\n        cateList: [],\n        brandList: [],\n        shopIdList: [],\n        channelTypeList: []\n      });\n    },\n    removeConditionItem(index) {\n      this.tabParams.conditionList.splice(index, 1);\n    },\n    selectItemCate(item, index) {\n      this.currentCateItem = this.copy(index);\n      this.selectedCateList = item.cateList || [];\n      this.showCategoryModal = true;\n    },\n    removeItemCate(item, index) {\n      item.cateList.splice(index, 1);\n    },\n    selectItemBrand(item, index) {\n      this.currentBrandItem = this.copy(index);\n      this.selectedBrandList = item.brandList || [];\n      this.showBrandModal = true;\n    },\n    removeItemBrand(item, index) {\n      item.brandList.splice(index, 1);\n    },\n    dialogCategory(res) {\n      if(this.currentCateItem > -1) {\n        this.tabParams.conditionList[this.currentCateItem].cateList = res.categoryList;\n        this.showCategoryModal = false;\n        this.currentCateItem = -1;\n      } else {\n        this.$message.info({message: '系统错误', showClose: true});\n      }\n    },\n    dialogCategoryCancel() {\n      this.showCategoryModal = false;\n    },\n    dialogBrand(res) {\n      if(this.currentBrandItem > -1) {\n        this.tabParams.conditionList[this.currentBrandItem].brandList = res.brandList;\n        this.showBrandModal = false;\n        this.currentBrandItem = -1;\n      } else {\n        this.$message.info({message: '系统错误', showClose: true});\n      }\n    },\n    dialogBrandCancel() {\n      this.showBrandModal = false;\n    },\n    saveTab() {\n      let params = this.copy(this.tabParams);\n      let startTime = new Date(params.startTime);\n      let endTime = new Date(params.endTime);\n      if(startTime >= endTime) {\n        this.$message.info('结束时间应在开始时间之后');\n        return 0;\n      }\n      params.conditionList.forEach(item => {\n        item.categoryUnitList = [];\n        item.brandIdList = [];\n        if(item.cateList && item.cateList.length>0) {\n          item.cateList.forEach(cate => {\n            item.categoryUnitList.push({\n              cateId1: 0,\n              cateId2: 0,\n              cateId3: cate.id\n            });\n          });\n        }\n        if(item.brandList && item.brandList.length>0) {\n          item.brandList.forEach(brand => {\n            item.brandIdList.push(brand.id);\n          });\n        }\n        delete item.cateList;\n        delete item.brandList;\n        delete item.empty;\n      });\n      params.conditionList = JSON.stringify(params.conditionList);\n      if(params.id) {\n        this.api.system.editTab(params).then((res) => {\n          this.$message.success({message: res.message, showClose: true});\n          this.$router.push({ name: '电脑端' });\n        });\n      } else {\n        this.api.system.addTab(params).then((res) => {\n          this.$message.success({message: res.message, showClose: true});\n          this.$router.push({ name: '电脑端' });\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .tab-detail{\n    .title{\n      font-size: 14px;\n      color: #333333;\n      font-weight: bold;\n      padding-bottom: 10px;\n    }\n    .tab-wrap{\n      padding: 20px 20px 5px;\n      background: #fff;\n      border-radius: 4px;\n      .tab-item{\n        padding-bottom: 15px;\n        .timepicker-control{\n          margin-right: 10px;\n        }\n        .radio{\n          line-height: 30px;\n        }\n        .tab-title{\n          display: inline-block;\n          vertical-align: top;\n          font-size: 14px;\n          color: #333333;\n          text-align: left;\n          width: 78px;\n          line-height: 30px;\n        }\n        .form-control{\n          width: 366px;\n        }\n        .item-condition{\n          display: inline-block;\n          vertical-align: top;\n          width: 800px;\n          .condition-row{\n            padding-bottom: 15px;\n            .condition-title{\n              display: inline-block;\n              vertical-align: top;\n              font-size: 14px;\n              color: #333333;\n              font-weight: bold;\n              padding-right: 10px;\n              line-height: 30px;\n            }\n            .multipleSelect{\n              width: 328px;\n            }\n            .btn-small{\n              margin-left: 10px;\n              margin-bottom: 10px;\n              .delete-icon{\n                cursor: pointer;\n                padding: 0 2px 0 10px;\n              }\n            }\n          }\n          .condition-btn{\n            a{\n              display: inline-block;\n              vertical-align: top;\n              width: 42px;\n              height: 30px;\n              text-align: center;\n              line-height: 30px;\n              color: #F06941;\n              border: 1px dashed #F06941;\n              cursor: pointer;\n              border-radius: 15px;\n            }\n            .delete-condition{\n              color: #666666;\n              border: 1px dashed #999999;\n            }\n          }\n        }\n      }\n    }\n    .bot-btn{\n      padding-top: 20px;\n      a{\n        margin-right: 20px;\n      }\n    }\n  }\n</style>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabDetail.vue?vue&type=template&id=7aa76787&scoped=true&\"\nimport script from \"./tabDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./tabDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tabDetail.vue?vue&type=style&index=0&id=7aa76787&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aa76787\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}