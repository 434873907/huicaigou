{"version":3,"sources":["webpack:///./src/pages/center/marketing/buyLimit/detail.vue?e1d6","webpack:///src/pages/center/marketing/buyLimit/detail.vue","webpack:///./src/pages/center/marketing/buyLimit/detail.vue?f456","webpack:///./src/pages/center/marketing/buyLimit/detail.vue?62a5","webpack:///./src/pages/center/marketing/buyLimit/detail.vue?f45a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","detailData","callback","$$v","$set","expression","on","$event","showGoodsModal","directives","name","rawName","class","currency","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","domProps","_l","item","key","code","_s","mixName","_m","userConfig","singleChannel","itemIndex","itemImg","itemTitle","channelName","spec","oriPrice","stock","moveItem","activityItems","length","deleteItem","save","dialogGoods","dialogGoodsCancel","_e","staticRenderFns","components","data","isDisabled","currencyList","startTime","endTime","isDisableCoupon","created","getCurrency","api","activity","getBuyLimit","methods","common","then","symbol","forEach","itemId","res","goodsList","goods","selectedSku","itemName","mainImg","selectedChannelName","channelType","selectedChannel","flashSalePrice","num","itemGoods","sku","stockNum","skuId","skuValue","participateItemNum","JSON","stringify","console","log","arr","push","index","bot","pos","current","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,KAAK,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,WAAWH,EAAG,iBAAiB,CAACE,YAAY,qBAAqBE,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAW,eAAe,sBAAsB,YAAc,WAAWC,MAAM,CAACC,MAAOV,EAAIW,WAAoB,UAAEC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIW,WAAY,YAAaE,IAAME,WAAW,0BAA0BX,EAAG,iBAAiB,CAACE,YAAY,qBAAqBE,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAW,eAAe,sBAAsB,YAAc,WAAWC,MAAM,CAACC,MAAOV,EAAIW,WAAkB,QAAEC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIW,WAAY,UAAWE,IAAME,WAAW,yBAAyB,GAAGX,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,WAAWH,EAAG,IAAI,CAACE,YAAY,eAAeU,GAAG,CAAC,MAAQ,SAASC,GAAQjB,EAAIkB,gBAAe,KAAQ,CAAClB,EAAIO,GAAG,cAAcH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,SAASH,EAAG,SAAS,CAACe,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUX,MAAOV,EAAIW,WAAmB,SAAEI,WAAW,wBAAwBT,YAAY,eAAegB,MAAM,CAAC,gBAAgBtB,EAAIW,WAAWY,UAAUP,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIO,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKX,EAAOY,OAAOC,QAAQ,SAASC,GAAG,OAAOA,EAAEC,WAAWC,IAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAErB,MAAM,OAAOwB,IAAOlC,EAAIc,KAAKd,EAAIW,WAAY,WAAYM,EAAOY,OAAOO,SAAWZ,EAAgBA,EAAc,OAAO,CAACpB,EAAG,SAAS,CAACiC,SAAS,CAAC,MAAQ,IAAI,CAACrC,EAAIO,GAAG,SAASP,EAAIsC,GAAItC,EAAgB,aAAE,SAASuC,GAAM,OAAOnC,EAAG,SAAS,CAACoC,IAAID,EAAKE,KAAKJ,SAAS,CAAC,MAAQE,EAAKE,OAAO,CAACzC,EAAIO,GAAGP,EAAI0C,GAAGH,EAAKI,eAAe,KAAK3C,EAAI4C,GAAG,GAAGxC,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,UAAUH,EAAG,KAAK,CAACe,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASX,OAAQV,EAAI6C,WAAWC,cAAe/B,WAAW,8BAA8BT,YAAY,QAAQ,CAACN,EAAIO,GAAG,QAAQH,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,SAASH,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,QAAQH,EAAG,KAAK,CAACJ,EAAIO,GAAG,QAAQH,EAAG,KAAK,CAACJ,EAAIO,GAAG,SAASH,EAAG,KAAK,CAACJ,EAAIO,GAAG,QAAQH,EAAG,KAAK,CAACJ,EAAIO,GAAG,YAAYH,EAAG,QAAQJ,EAAIsC,GAAItC,EAAIW,WAAwB,cAAE,SAAS4B,EAAKQ,GAAW,OAAO3C,EAAG,KAAK,CAACoC,IAAIO,GAAW,CAAC3C,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,UAAUE,MAAM,CAAC,IAAM+B,EAAKS,WAAW5C,EAAG,OAAO,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAGP,EAAI0C,GAAGH,EAAKU,gBAAgB7C,EAAG,KAAK,CAACe,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASX,OAAQV,EAAI6C,WAAWC,cAAe/B,WAAW,+BAA+B,CAACf,EAAIO,GAAGP,EAAI0C,GAAGH,EAAKW,gBAAgB9C,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAI0C,GAAGH,EAAKY,SAAS/C,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAI0C,GAAGH,EAAKa,aAAahD,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAI0C,GAAGH,EAAKc,UAAUjD,EAAG,KAAK,CAACA,EAAG,WAAW,CAACK,MAAM,CAACC,MAAO6B,EAAmB,eAAE3B,SAAS,SAAUC,GAAMb,EAAIc,KAAKyB,EAAM,iBAAkB1B,IAAME,WAAW,0BAA0B,GAAGX,EAAG,KAAK,CAACA,EAAG,WAAW,CAACK,MAAM,CAACC,MAAO6B,EAAQ,IAAE3B,SAAS,SAAUC,GAAMb,EAAIc,KAAKyB,EAAM,MAAO1B,IAAME,WAAW,eAAe,GAAGX,EAAG,KAAK,CAACA,EAAG,IAAI,CAACe,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASX,MAAoB,GAAbqC,EAAgBhC,WAAW,mBAAmBT,YAAY,OAAOU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIsD,SAASP,MAAc,CAAC/C,EAAIO,GAAG,QAAQH,EAAG,IAAI,CAACe,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASX,MAAOqC,GAAa/C,EAAIW,WAAW4C,cAAcC,OAAO,EAAGzC,WAAW,mDAAmDT,YAAY,OAAOU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIsD,SAASP,EAAU,MAAM,CAAC/C,EAAIO,GAAG,QAAQH,EAAG,IAAI,CAACE,YAAY,OAAOU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIyD,WAAWlB,MAAS,CAACvC,EAAIO,GAAG,cAAc,OAAOH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACN,EAAIO,GAAG,YAAYH,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAW,MAAQ,GAAGC,MAAM,CAACC,MAAOV,EAAIW,WAA0B,gBAAEC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIW,WAAY,kBAAmBE,IAAME,WAAW,+BAA+B,CAACf,EAAIO,GAAG,OAAOH,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAW,MAAQ,GAAGC,MAAM,CAACC,MAAOV,EAAIW,WAA0B,gBAAEC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIW,WAAY,kBAAmBE,IAAME,WAAW,+BAA+B,CAACf,EAAIO,GAAG,QAAQ,GAAGH,EAAG,MAAM,CAACE,YAAY,WAAWU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI0D,UAAU,CAAC1D,EAAIO,GAAG,UAAWP,EAAkB,eAAEI,EAAG,iBAAiB,CAACY,GAAG,CAAC,YAAchB,EAAI2D,YAAY,kBAAoB3D,EAAI4D,qBAAqB5D,EAAI6D,MAAM,IACthJC,EAAkB,CAAC,WAAa,IAAI9D,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,e,kCC0EzL,GACEwD,WAAY,CAAd,uBACEC,KAFF,WAGI,MAAO,CACL9C,gBAAgB,EAChB+C,WAAY,EACZC,aAAN,GACMvD,WAAY,CACVwD,UAAR,GACQC,QAAR,GACQ7C,SAAR,EACQ8C,gBAAiB,EACjBd,cAAR,MAIEe,QAhBF,WAgBA,WACA,wBACIrE,KAAKsE,cACT,GACMtE,KAAKuE,IAAIC,SAASC,YAAY,CAApC,gCACQ,EAAR,kBACQ,EAAR,2DAKEC,QAAS,CACPJ,YADJ,WACA,WACMtE,KAAKuE,IAAII,OAAOrD,SAAS,IAAIsD,KAAK,SAAxC,GACQ,EAAR,oBACQ,EAAR,iCACUtC,EAAKI,QAAUJ,EAAKuC,OAAS,IAAMvC,EAAKnB,UAI9CuC,YATJ,SASA,cAEM,GAAN,mCACQ,IAAR,KACQ1D,KAAKU,WAAW4C,cAAcwB,QAAQ,SAA9C,GACU/C,EAASO,EAAKyC,SAAU,IAE1BC,EAAIC,UAAUH,QAAQ,SAA9B,GACUI,EAAMC,YAAYL,QAAQ,SAApC,GACY,IAAZ,GACcC,OAAQG,EAAMH,OACd/B,UAAWkC,EAAME,SACjBrC,QAASmC,EAAMG,QACfpC,YAAaiC,EAAMI,oBACnBpC,KAAM,GACNE,MAAO,EACPmC,YAAaL,EAAMM,gBACnBC,eAAgB,GAChBC,IAAK,IAEPC,EAAUvC,OAASwC,EAAIC,SACvBF,EAAUG,MAAQF,EAAIE,MACtBH,EAAUzC,KAAO0C,EAAIG,SACrBJ,EAAUxC,SAAW,IAAjC,QACapB,EAAS4D,EAAUZ,QAAhC,wEAA0C,EAA1C,qCAQM/E,KAAKiB,gBAAiB,GAExB0C,kBA3CJ,WA4CM3D,KAAKiB,gBAAiB,GAExBwC,KA9CJ,WA8CA,WACA,gBACA,6BACQc,EAAM,kBAERvE,KAAKU,WAAWsF,mBAAqBC,KAAKC,UAAUlG,KAAKU,WAAW4C,eACpEtD,KAAKuE,IAAIC,SAASD,GAAKvE,KAAKU,YAAYkE,KAAK,SAAnD,GACQ,EAAR,mDACQ,EAAR,8BACA,kBACQuB,QAAQC,IAAI,EAApB,0BACQ,EAAR,sDAGI5C,WA5DJ,SA4DA,GACM,IAAN,KACMxD,KAAKU,WAAW4C,cAActB,IAAI,SAAxC,GACA,oBACUqE,EAAIC,KAAKrE,KAGbjC,KAAKU,WAAW4C,cAAgB+C,GAElChD,SArEJ,SAqEA,KACM,IAAN,8CACA,aACA,8CACMrD,KAAKa,KAAKb,KAAKU,WAAW4C,cAAeiD,EAAOC,GAChDxG,KAAKa,KAAKb,KAAKU,WAAW4C,cAAemD,EAAKC,MChLyU,I,wBCQzXC,EAAY,eACd,EACA7G,EACA+D,GACA,EACA,KACA,KACA,MAIa,aAAA8C,E,2CCnBf,yBAAykB,EAAG,G","file":"js/chunk-a95d3508.bf937e11.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buy-limit-detail\"},[_c('h2',{staticClass:\"big-title\"},[_vm._v(\"编辑活动\")]),_c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"活动时间:\")]),_c('el-date-picker',{staticClass:\"timepicker-control\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"请选择开始时间\"},model:{value:(_vm.detailData.startTime),callback:function ($$v) {_vm.$set(_vm.detailData, \"startTime\", $$v)},expression:\"detailData.startTime\"}}),_c('el-date-picker',{staticClass:\"timepicker-control\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"请选择结束时间\"},model:{value:(_vm.detailData.endTime),callback:function ($$v) {_vm.$set(_vm.detailData, \"endTime\", $$v)},expression:\"detailData.endTime\"}})],1),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"活动商品:\")]),_c('a',{staticClass:\"select-goods\",on:{\"click\":function($event){_vm.showGoodsModal=true}}},[_vm._v(\"+ 选择商品\")])]),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"货币:\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.detailData.currency),expression:\"detailData.currency\"}],staticClass:\"form-control\",class:{'unset-select':!_vm.detailData.currency},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.detailData, \"currency\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":0}},[_vm._v(\"请选择\")]),_vm._l((_vm.currencyList),function(item){return _c('option',{key:item.code,domProps:{\"value\":item.code}},[_vm._v(_vm._s(item.mixName))])})],2)]),_vm._m(0),_c('div',{staticClass:\"goods-list\"},[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"w300\"},[_vm._v(\"商品名称\")]),_c('th',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.userConfig.singleChannel),expression:\"!userConfig.singleChannel\"}],staticClass:\"w100\"},[_vm._v(\"渠道\")]),_c('th',{staticClass:\"w200\"},[_vm._v(\"SKU\")]),_c('th',{staticClass:\"w100\"},[_vm._v(\"原价\")]),_c('th',[_vm._v(\"库存\")]),_c('th',[_vm._v(\"抢购价\")]),_c('th',[_vm._v(\"限购\")]),_c('th',[_vm._v(\"操作\")])])]),_c('tbody',_vm._l((_vm.detailData.activityItems),function(item,itemIndex){return _c('tr',{key:itemIndex},[_c('td',[_c('img',{staticClass:\"itemImg\",attrs:{\"src\":item.itemImg}}),_c('span',{staticClass:\"itemTitle\"},[_vm._v(_vm._s(item.itemTitle))])]),_c('td',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.userConfig.singleChannel),expression:\"!userConfig.singleChannel\"}]},[_vm._v(_vm._s(item.channelName))]),_c('td',[_vm._v(_vm._s(item.spec))]),_c('td',[_vm._v(_vm._s(item.oriPrice))]),_c('td',[_vm._v(_vm._s(item.stock))]),_c('td',[_c('ApiInput',{model:{value:(item.flashSalePrice),callback:function ($$v) {_vm.$set(item, \"flashSalePrice\", $$v)},expression:\"item.flashSalePrice\"}})],1),_c('td',[_c('ApiInput',{model:{value:(item.num),callback:function ($$v) {_vm.$set(item, \"num\", $$v)},expression:\"item.num\"}})],1),_c('td',[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(itemIndex != 0),expression:\"itemIndex != 0\"}],staticClass:\"link\",on:{\"click\":function($event){return _vm.moveItem(itemIndex)}}},[_vm._v(\"上移\")]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(itemIndex != _vm.detailData.activityItems.length-1),expression:\"itemIndex != detailData.activityItems.length-1\"}],staticClass:\"link\",on:{\"click\":function($event){return _vm.moveItem(itemIndex,1)}}},[_vm._v(\"下移\")]),_c('a',{staticClass:\"link\",on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\"删除\")])])])}),0)])]),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name form-disable\"},[_vm._v(\"禁用优惠券:\")]),_c('el-radio',{attrs:{\"name\":\"disabled\",\"label\":1},model:{value:(_vm.detailData.isDisableCoupon),callback:function ($$v) {_vm.$set(_vm.detailData, \"isDisableCoupon\", $$v)},expression:\"detailData.isDisableCoupon\"}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"name\":\"disabled\",\"label\":0},model:{value:(_vm.detailData.isDisableCoupon),callback:function ($$v) {_vm.$set(_vm.detailData, \"isDisableCoupon\", $$v)},expression:\"detailData.isDisableCoupon\"}},[_vm._v(\"否\")])],1),_c('div',{staticClass:\"btn-main\",on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"保存\")])]),(_vm.showGoodsModal)?_c('selectActGoods',{on:{\"dialogGoods\":_vm.dialogGoods,\"dialogGoodsCancel\":_vm.dialogGoodsCancel}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"商品信息:\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"buy-limit-detail\">\n    <h2 class=\"big-title\">编辑活动</h2>\n    <div class=\"wrap\">\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">活动时间:</div>\n        <el-date-picker class=\"timepicker-control\" size=\"small\" type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"  placeholder=\"请选择开始时间\" v-model=\"detailData.startTime\"></el-date-picker>\n        <el-date-picker class=\"timepicker-control\" size=\"small\" type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"  placeholder=\"请选择结束时间\" v-model=\"detailData.endTime\"></el-date-picker>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">活动商品:</div>\n        <a class=\"select-goods\" @click=\"showGoodsModal=true\">+ 选择商品</a>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">货币:</div>\n        <select class=\"form-control\" v-model=\"detailData.currency\" :class=\"{'unset-select':!detailData.currency}\">\n          <option :value=\"0\">请选择</option>\n          <option v-for=\"item in currencyList\" :key=\"item.code\" :value=\"item.code\">{{item.mixName}}</option>\n        </select>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">商品信息:</div>\n      </div>\n      <div class=\"goods-list\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th class=\"w300\">商品名称</th>\n              <th class=\"w100\" v-show=\"!userConfig.singleChannel\">渠道</th>\n              <th class=\"w200\">SKU</th>\n              <th class=\"w100\">原价</th>\n              <th>库存</th>\n              <th>抢购价</th>\n              <th>限购</th>\n              <th>操作</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, itemIndex) in detailData.activityItems\" :key=\"itemIndex\">\n              <td>\n                <img class=\"itemImg\" :src=\"item.itemImg\" />\n                <span class=\"itemTitle\">{{item.itemTitle}}</span>\n              </td>\n              <td v-show=\"!userConfig.singleChannel\">{{item.channelName}}</td>\n              <td>{{item.spec}}</td>\n              <td>{{item.oriPrice}}</td>\n              <td>{{item.stock}}</td>\n              <td>\n                <ApiInput v-model=\"item.flashSalePrice\"/>\n              </td>\n              <td>\n                <ApiInput v-model=\"item.num\"/>\n              </td>\n              <td>\n                <a class=\"link\" v-show=\"itemIndex != 0\" @click=\"moveItem(itemIndex)\">上移</a>\n                <a class=\"link\" v-show=\"itemIndex != detailData.activityItems.length-1\" @click=\"moveItem(itemIndex,1)\">下移</a>\n                <a class=\"link\" @click=\"deleteItem(item)\">删除</a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name form-disable\">禁用优惠券:</div>\n        <el-radio name=\"disabled\" v-model=\"detailData.isDisableCoupon\" :label=\"1\">是</el-radio>\n        <el-radio name=\"disabled\" v-model=\"detailData.isDisableCoupon\" :label=\"0\">否</el-radio>\n      </div>\n      <div class=\"btn-main\" @click=\"save()\">保存</div>\n    </div>\n    <selectActGoods v-if=\"showGoodsModal\" v-on:dialogGoods=\"dialogGoods\" v-on:dialogGoodsCancel=\"dialogGoodsCancel\"></selectActGoods>\n  </div>\n</template>\n\n<script>\nimport selectActGoods from '@/components/selectActGoods/index.vue';\nexport default {\n  components: { selectActGoods },\n  data() {\n    return {\n      showGoodsModal: false,\n      isDisabled: 1,\n      currencyList:[],\n      detailData: {\n        startTime:'',\n        endTime:'',\n        currency:0,\n        isDisableCoupon: 1,\n        activityItems:[]\n      }\n    }\n  },\n  created() {\n    let id = this.$route.params.id;\n    this.getCurrency();\n    if(id){\n      this.api.activity.getBuyLimit({activityId:id}).then((res) => {\n        this.detailData = res.data;\n        this.detailData.activityItems = this.detailData.activityItems || [];\n      });\n    }\n    \n  },\n  methods: {\n    getCurrency() {\n      this.api.common.currency({}).then((res) => {\n        this.currencyList = res.data;\n        this.currencyList.forEach(item => {\n          item.mixName = item.symbol + ' ' + item.name;\n        });\n      });\n    },\n    dialogGoods(res) {\n      // this.console(res.goodsList);\n      if(res.goodsList && res.goodsList.length>0) {\n        let selected = {};\n        this.detailData.activityItems.forEach(item=>{\n          selected[item.itemId] = true;\n        });\n        res.goodsList.forEach(goods => {\n          goods.selectedSku.forEach(sku => {\n            let itemGoods = {\n              itemId: goods.itemId,\n              itemTitle: goods.itemName,\n              itemImg: goods.mainImg,\n              channelName: goods.selectedChannelName,\n              spec: '',\n              stock: 0,\n              channelType: goods.selectedChannel,\n              flashSalePrice: '',\n              num: ''\n            };\n            itemGoods.stock += sku.stockNum;\n            itemGoods.skuId = sku.skuId;\n            itemGoods.spec = sku.skuValue\n            itemGoods.oriPrice = '￥'+ sku.price\n            !selected[itemGoods.itemId] ? this.detailData.activityItems.push(itemGoods): this.$message.info({message:`商品‘${itemGoods.itemTitle}’重复`, showClose:true});\n            // itemGoods.spec += sku.skuValue+'/ ￥'+ sku.price +'、';\n          });\n          // itemGoods.spec = itemGoods.spec.substring(itemGoods.spec.length-1, 0);\n          \n        });\n      }\n      // console.log('detailData',this.detailData)\n      this.showGoodsModal = false;\n    },\n    dialogGoodsCancel() {\n      this.showGoodsModal = false;\n    },\n    save(){\n      let api = 'addBuyLimit';\n      if(this.detailData.activityId){\n        api = 'updateBuyLimit';\n      }\n      this.detailData.participateItemNum = JSON.stringify(this.detailData.activityItems);\n      this.api.activity[api](this.detailData).then((res) => {\n        this.$message.success({message: res.message, showClose: true});\n        this.$router.push({name: '限时抢购'});\n      }).catch(res=>{\n        console.log(this.detailData.activityItems)\n        this.$message.warning({message: res.message, showClose: true});\n      });\n    },\n    deleteItem(item){\n      let arr = []\n      this.detailData.activityItems.map(val=>{\n        if(val.itemId != item.itemId){\n          arr.push(val)\n        }\n      })\n      this.detailData.activityItems = arr\n    },\n    moveItem(index,down){\n      let current = this.copy(this.detailData.activityItems[index]);\n      let pos = index + (down ? 1 : -1);\n      let bot = this.copy(this.detailData.activityItems[pos]);\n      this.$set(this.detailData.activityItems, index, bot);\n      this.$set(this.detailData.activityItems, pos, current);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .buy-limit-detail{\n    .big-title{\n      color: #333333;\n      font-size: 14px;\n      font-weight: bold;\n      padding-bottom: 10px;\n    }\n    .wrap{\n      background: #fff;\n      padding: 20px 20px;\n      box-shadow: 0 2px 3px #E5E5E5;\n      border-radius: 4px;\n      .form-wrap{\n        margin-bottom: 15px;\n        .form-name{\n          vertical-align: top;\n          line-height: 30px;\n          width: 60px;\n        }\n        .form-disable{\n          width: 80px;\n        }\n        .timepicker-control{\n          width: 164px;\n          margin-right: 15px;\n        }\n        .select-goods{\n          display: inline-block;\n          vertical-align: top;\n          width: 110px;\n          height: 30px;\n          border: 1px dashed #F06941;\n          color: #F06941;\n          text-align: center;\n          line-height: 30px;\n          margin-right: 10px;\n          border-radius: 15px;\n          cursor: pointer;\n        }\n        .el-radio{\n          line-height: 30px;\n        }\n        &:last-child{\n          margin-bottom: 0;\n        }\n      }\n      .goods-list{\n        margin-bottom: 15px;\n        table {\n          width: 1200px;\n          border-collapse: collapse;\n          border-spacing: 0;\n          border-radius: 4px;\n          overflow: hidden;\n          box-shadow: 0 0 0 1px $border-color;\n          thead {\n            background: #EBEFFC;\n          }\n          tr {\n            th{\n              white-space: nowrap;\n            }\n            th, td {\n              padding: 10px;\n              text-align: left;\n              line-height: 20px;\n              .link{\n                margin-right: 10px;\n              }\n              .itemImg{\n                display: inline-block;\n                vertical-align: top;\n                max-height: 54px;\n                max-width: 54px;\n              }\n              .itemTitle{\n                display: inline-block;\n                vertical-align: top;\n                width: 210px;\n                margin-left: 10px;\n              }\n            }\n            .w300{\n              width: 300px;\n            }\n            .w100{\n              width: 100px;\n            }\n            .w200{\n              width: 200px;\n            }\n            .form-control{\n              width: 60px;\n            }\n          }\n        }\n      }\n    }\n    .el-dialog__body{\n      padding: 0;\n    }\n  }\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=3a241d92&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}