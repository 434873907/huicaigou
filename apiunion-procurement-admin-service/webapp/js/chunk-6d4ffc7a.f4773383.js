(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d4ffc7a"],{"3f36":function(o,a,e){"use strict";var t=e("6124"),s=e.n(t);s.a},6124:function(o,a,e){},"92eb":function(o,a,e){"use strict";var t=e("efb2"),s=e.n(t);s.a},a2cb:function(o,a,e){"use strict";e.r(a);var t=function(){var o=this,a=o.$createElement,e=o._self._c||a;return e("div",{staticClass:"coupon-detail"},[e("h2",{staticClass:"coupon-title"},[o._v("基本信息")]),e("div",{staticClass:"coupon-wrap"},[e("div",{staticClass:"info-item"},[e("span",{staticClass:"title"},[o._v("优惠券类型")]),e("select",{directives:[{name:"model",rawName:"v-model",value:o.couponParams.couponType,expression:"couponParams.couponType"}],staticClass:"form-control",attrs:{type:"text",disabled:o.readonly},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(o){return o.selected}).map(function(o){var a="_value"in o?o._value:o.value;return a});o.$set(o.couponParams,"couponType",a.target.multiple?e:e[0])}}},o._l(o.couponTypeList,function(a){return e("option",{key:a.id,domProps:{value:a.id}},[o._v(o._s(a.name))])}),0)]),1==o.couponParams.couponType?e("div",{staticClass:"info-item"},[e("span",{staticClass:"title"},[o._v("优惠码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.couponParams.couponCode,expression:"couponParams.couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"单行输入",disabled:o.readonly},domProps:{value:o.couponParams.couponCode},on:{input:function(a){a.target.composing||o.$set(o.couponParams,"couponCode",a.target.value)}}})]):o._e(),e("div",{staticClass:"info-item"},[e("span",{staticClass:"title"},[o._v("优惠券名称")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.couponParams.couponName,expression:"couponParams.couponName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"单行输入",disabled:o.readonly},domProps:{value:o.couponParams.couponName},on:{input:function(a){a.target.composing||o.$set(o.couponParams,"couponName",a.target.value)}}})]),e("div",{staticClass:"info-item"},[e("span",{staticClass:"title"},[o._v("优惠券数量")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.couponParams.couponCount,expression:"couponParams.couponCount"}],staticClass:"form-control",attrs:{type:"text",disabled:o.readonly},domProps:{value:o.couponParams.couponCount},on:{input:function(a){a.target.composing||o.$set(o.couponParams,"couponCount",a.target.value)}}}),e("span",{staticClass:"text"},[o._v("张")])])]),e("h2",{staticClass:"coupon-title rule-info"},[o._v("使用规则")]),e("div",{staticClass:"coupon-wrap"},[e("div",{staticClass:"rule-item"},[e("span",{staticClass:"title"},[o._v("优惠券"+o._s(0===o.couponParams.couponValueType?"面额":"折扣"))]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.couponParams.couponValue,expression:"couponParams.couponValue"}],staticClass:"form-control denomination",attrs:{type:"text",disabled:o.readonly},domProps:{value:o.couponParams.couponValue},on:{input:function(a){a.target.composing||o.$set(o.couponParams,"couponValue",a.target.value)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:0===o.couponParams.couponValueType,expression:"couponParams.couponValueType===0"}],staticClass:"pl10"},[o._v("元")]),e("span",{directives:[{name:"show",rawName:"v-show",value:1===o.couponParams.couponValueType,expression:"couponParams.couponValueType===1"}],staticClass:"pl10"},[o._v("折")])]),e("div",{staticClass:"rule-item"},[e("span",{staticClass:"title"},[o._v("券值类型")]),e("el-radio",{attrs:{label:0,disabled:o.readonly},model:{value:o.couponParams.couponValueType,callback:function(a){o.$set(o.couponParams,"couponValueType",a)},expression:"couponParams.couponValueType"}},[e("span",{staticClass:"text"},[o._v("金额")])]),o._e()],1),e("div",{staticClass:"rule-item"},[e("span",{staticClass:"title"},[o._v("使用门槛")]),e("el-radio",{attrs:{label:0,disabled:o.readonly},model:{value:o.limitType,callback:function(a){o.limitType=a},expression:"limitType"}},[e("span",{staticClass:"text"},[o._v("不限制")])]),e("el-radio",{staticClass:"threshold-box",attrs:{label:1,disabled:o.readonly},model:{value:o.limitType,callback:function(a){o.limitType=a},expression:"limitType"}},[e("span",{staticClass:"text"},[o._v("满")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.couponParams.orderPriceLimit,expression:"couponParams.orderPriceLimit"}],staticClass:"form-control threshold",attrs:{type:"text",disabled:o.readonly||0===o.limitType},domProps:{value:o.couponParams.orderPriceLimit},on:{input:function(a){a.target.composing||o.$set(o.couponParams,"orderPriceLimit",a.target.value)}}}),e("span",{staticClass:"text pl10"},[o._v("元可以使用")])])],1),e("div",{staticClass:"rule-item"},[e("span",{staticClass:"title"},[o._v("有效期")]),e("div",{staticClass:"validity"},[e("el-radio",{attrs:{label:1,disabled:o.readonly},model:{value:o.timeType,callback:function(a){o.timeType=a},expression:"timeType"}},[e("span",{staticClass:"text"},[o._v("固定日期")]),e("span",{staticClass:"time-text pl20 pr10"},[o._v("生效时间")]),e("el-date-picker",{staticClass:"timepicker-control",attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择",disabled:o.readonly||0===o.timeType},model:{value:o.couponParams.startTime,callback:function(a){o.$set(o.couponParams,"startTime",a)},expression:"couponParams.startTime"}}),e("span",{staticClass:"time-text pl20 pr10"},[o._v("过期时间")]),e("el-date-picker",{staticClass:"timepicker-control",attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择",disabled:o.readonly||0===o.timeType},model:{value:o.couponParams.endTime,callback:function(a){o.$set(o.couponParams,"endTime",a)},expression:"couponParams.endTime"}})],1)],1),e("div",{staticClass:"validity timeType"},[e("el-radio",{attrs:{label:0,disabled:o.readonly},model:{value:o.timeType,callback:function(a){o.timeType=a},expression:"timeType"}},[e("span",{staticClass:"text"},[o._v("领券")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.couponParams.afterDays,expression:"couponParams.afterDays"}],staticClass:"form-control threshold",attrs:{type:"text",disabled:o.readonly||1===o.timeType},domProps:{value:o.couponParams.afterDays},on:{input:function(a){a.target.composing||o.$set(o.couponParams,"afterDays",a.target.value)}}}),e("span",{staticClass:"text pl10"},[o._v("天内有效")])])],1)]),e("div",{staticClass:"rule-item goods-item"},[e("span",{staticClass:"title"},[o._v("适用范围")]),e("el-radio",{attrs:{label:0,disabled:o.readonly},model:{value:o.couponParams.conditionType,callback:function(a){o.$set(o.couponParams,"conditionType",a)},expression:"couponParams.conditionType"}},[o._v("所有商品")]),e("el-radio",{attrs:{label:1,disabled:o.readonly},model:{value:o.couponParams.conditionType,callback:function(a){o.$set(o.couponParams,"conditionType",a)},expression:"couponParams.conditionType"}},[o._v("按类目")]),e("el-radio",{attrs:{label:2,disabled:o.readonly},model:{value:o.couponParams.conditionType,callback:function(a){o.$set(o.couponParams,"conditionType",a)},expression:"couponParams.conditionType"}},[o._v("按品牌")]),e("el-radio",{attrs:{label:3,disabled:o.readonly},model:{value:o.couponParams.conditionType,callback:function(a){o.$set(o.couponParams,"conditionType",a)},expression:"couponParams.conditionType"}},[o._v("指定商品")]),e("el-radio",{attrs:{label:4,disabled:o.readonly},model:{value:o.couponParams.conditionType,callback:function(a){o.$set(o.couponParams,"conditionType",a)},expression:"couponParams.conditionType"}},[o._v("指定店铺")])],1),e("div",{staticClass:"rule-item"},[e("div",{staticClass:"selected-rule"},[e("a",{directives:[{name:"show",rawName:"v-show",value:1===o.couponParams.conditionType&&!o.readonly,expression:"couponParams.conditionType === 1 && !readonly"}],staticClass:"select-goods",attrs:{href:"javascript:;"},on:{click:function(a){o.showCategoryModal=!0}}},[o._v("选择类目+")]),e("a",{directives:[{name:"show",rawName:"v-show",value:2===o.couponParams.conditionType&&!o.readonly,expression:"couponParams.conditionType === 2 && !readonly"}],staticClass:"select-goods",attrs:{href:"javascript:;"},on:{click:function(a){o.showBrandModal=!0}}},[o._v("选择品牌+")]),e("a",{directives:[{name:"show",rawName:"v-show",value:3===o.couponParams.conditionType&&!o.readonly,expression:"couponParams.conditionType === 3 && !readonly"}],staticClass:"select-goods",attrs:{href:"javascript:;"},on:{click:function(a){o.showGoodsModal=!0}}},[o._v("选择商品+")]),e("a",{directives:[{name:"show",rawName:"v-show",value:4===o.couponParams.conditionType&&!o.readonly,expression:"couponParams.conditionType === 4 && !readonly"}],staticClass:"select-goods",attrs:{href:"javascript:;"},on:{click:function(a){o.showShopModal=!0}}},[o._v("选择店铺+")]),o._l(o.selectCategoryList,function(a,t){return e("span",{directives:[{name:"show",rawName:"v-show",value:1===o.couponParams.conditionType,expression:"couponParams.conditionType === 1"}],key:t+"cate",staticClass:"selected-item"},[o._v("\n          "+o._s(a.name)+"\n          "),e("span",{directives:[{name:"show",rawName:"v-show",value:!o.readonly,expression:"!readonly"}],staticClass:"remove-icon",on:{click:function(a){return o.removeCategory(t)}}},[o._v("X")])])}),o._l(o.selectBrandList,function(a,t){return e("span",{directives:[{name:"show",rawName:"v-show",value:2===o.couponParams.conditionType,expression:"couponParams.conditionType === 2"}],key:t+"brand",staticClass:"selected-item"},[o._v("\n          "+o._s(a.name)+"\n          "),e("span",{directives:[{name:"show",rawName:"v-show",value:!o.readonly,expression:"!readonly"}],staticClass:"remove-icon",on:{click:function(a){return o.removeBrand(t)}}},[o._v("X")])])}),e("table",{directives:[{name:"show",rawName:"v-show",value:3===o.couponParams.conditionType&&o.selectGoodsList.length>0,expression:"couponParams.conditionType === 3 && selectGoodsList.length>0"}],staticClass:"table select-goods-table"},[e("thead",[e("tr",[e("th",{staticClass:"table-w440"},[o._v("商品")]),e("th",{directives:[{name:"show",rawName:"v-show",value:!o.readonly,expression:"!readonly"}]},[o._v("操作")])])]),e("tbody",o._l(o.selectGoodsList,function(a,t){return e("tr",{key:t+"goods"},[e("td",[e("img",{attrs:{src:a.mainImageUrl}}),e("span",{staticClass:"name"},[o._v(o._s(a.name))])]),e("td",{directives:[{name:"show",rawName:"v-show",value:!o.readonly,expression:"!readonly"}]},[e("a",{staticClass:"link",on:{click:function(a){return o.removeGoods(t)}}},[o._v("删除")])])])}),0)]),o._l(o.selectShopList,function(a,t){return e("span",{directives:[{name:"show",rawName:"v-show",value:4===o.couponParams.conditionType,expression:"couponParams.conditionType === 4"}],key:t+"shop",staticClass:"selected-item"},[o._v("\n          "+o._s(a.name)+"\n          "),e("span",{directives:[{name:"show",rawName:"v-show",value:!o.readonly,expression:"!readonly"}],staticClass:"remove-icon",on:{click:function(a){return o.removeShop(t)}}},[o._v("X")])])})],2)]),e("div",{staticClass:"rule-item"},[e("span",{staticClass:"title"},[o._v("优惠券说明")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:o.couponParams.desc,expression:"couponParams.desc"}],staticClass:"form-control remark",attrs:{disabled:o.readonly},domProps:{value:o.couponParams.desc},on:{input:function(a){a.target.composing||o.$set(o.couponParams,"desc",a.target.value)}}})])]),e("div",{staticClass:"bot-btn"},[e("a",{directives:[{name:"show",rawName:"v-show",value:!o.readonly,expression:"!readonly"}],staticClass:"btn-main",attrs:{href:"javascript:;"},on:{click:function(a){return o.saveCoupon()}}},[o._v("保存")]),e("router-link",{staticClass:"btn-fill-main",attrs:{to:{name:"优惠券管理"}}},[o._v("返回")])],1),o.showGoodsModal?e("selectGoods",{on:{dialogGoods:o.dialogGoods,dialogGoodsCancel:o.dialogGoodsCancel}}):o._e(),o.showBrandModal?e("selectBrand",{on:{dialogBrand:o.dialogBrand,dialogBrandCancel:o.dialogBrandCancel}}):o._e(),o.showShopModal?e("selectShop",{on:{dialogShop:o.dialogShop,dialogShopCancel:o.dialogShopCancel}}):o._e(),o.showCategoryModal?e("selectCategory",{on:{dialogCategory:o.dialogCategory,dialogCategoryCancel:o.dialogCategoryCancel}}):o._e()],1)},s=[],i=(e("ac6a"),e("a4d1")),n=e("8d0f"),c=function(){var o=this,a=o.$createElement,e=o._self._c||a;return e("div",{staticClass:"select-goods"},[e("el-dialog",{attrs:{title:"添加商品",visible:o.showGoodsModal,width:"610px","before-close":o.cancelGoods},on:{"update:visible":function(a){o.showGoodsModal=a}}},[e("div",{staticClass:"dialog-form"},[e("div",{staticClass:"dialog-search"},[e("select",{directives:[{name:"model",rawName:"v-model",value:o.listParams.brandIds,expression:"listParams.brandIds"}],staticClass:"form-control",class:{"unset-select":!o.listParams.brandIds},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(o){return o.selected}).map(function(o){var a="_value"in o?o._value:o.value;return a});o.$set(o.listParams,"brandIds",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[o._v("品牌选择")]),o._l(o.brandList,function(a){return e("option",{key:a.id,domProps:{value:a.id}},[o._v(o._s(a.name))])})],2),e("select",{directives:[{name:"model",rawName:"v-model",value:o.listParams.cateId,expression:"listParams.cateId"}],staticClass:"form-control",class:{"unset-select":!o.listParams.cateId},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(o){return o.selected}).map(function(o){var a="_value"in o?o._value:o.value;return a});o.$set(o.listParams,"cateId",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[o._v("类目选择")]),o._l(o.cateList,function(a){return e("option",{key:a.id,domProps:{value:a.id}},[o._v(o._s(a.name))])})],2),e("div",{staticClass:"input-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:o.listParams.keyword,expression:"listParams.keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:"商品名称、编码或条形码"},domProps:{value:o.listParams.keyword},on:{input:function(a){a.target.composing||o.$set(o.listParams,"keyword",a.target.value)}}}),e("i",{staticClass:"el-icon-search",on:{click:function(a){return o.getList()}}})]),e("a",{directives:[{name:"show",rawName:"v-show",value:1==o.toggleAction,expression:"toggleAction == 1"}],staticClass:"toggle-btn",attrs:{href:"javascript:;"},on:{click:function(a){o.toggleAction=2}}},[o._v("已选择商品")]),e("a",{directives:[{name:"show",rawName:"v-show",value:2==o.toggleAction,expression:"toggleAction == 2"}],staticClass:"toggle-btn",attrs:{href:"javascript:;"},on:{click:function(a){o.toggleAction=1}}},[o._v("全部商品")])]),e("div",{staticClass:"goods-title"},[e("span",{staticClass:"goods"},[o._v(o._s(2==o.toggleAction?"已选":"")+"商品")]),e("span",{staticClass:"oprate"},[o._v("操作")])]),o._l(o.tableData,function(a){return e("div",{directives:[{name:"show",rawName:"v-show",value:1==o.toggleAction,expression:"toggleAction == 1"}],key:a.id,staticClass:"goods-item",class:{"selected-item":a.checked}},[e("div",{staticClass:"item-img"},[e("img",{attrs:{src:a.mainImageUrl}})]),e("div",{staticClass:"item-name"},[e("h2",[o._v(o._s(a.name))]),e("p",[o._v("商品编号："+o._s(a.id))])]),e("div",{staticClass:"item-oprate"},[e("a",{staticClass:"link",on:{click:function(e){return o.selectItem(a)}}},[o._v("选取")])])])}),e("pagination",{directives:[{name:"show",rawName:"v-show",value:o.total>0&&1==o.toggleAction,expression:"total>0 && toggleAction == 1"}],attrs:{total:o.total,page:o.listParams.page,limit:o.listParams.limit},on:{"update:page":function(a){return o.$set(o.listParams,"page",a)},"update:limit":function(a){return o.$set(o.listParams,"limit",a)},pagination:function(a){return o.getList()}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:2==o.toggleAction,expression:"toggleAction == 2"}],staticClass:"selected-goods"},o._l(o.selectedGoodsList,function(a,t){return e("div",{key:a.id,staticClass:"goods-item"},[e("div",{staticClass:"item-img"},[e("img",{attrs:{src:a.mainImageUrl}})]),e("div",{staticClass:"item-name"},[e("h2",[o._v(o._s(a.name))]),e("p",[o._v("商品编号："+o._s(a.id))])]),e("div",{staticClass:"item-oprate"},[e("a",{staticClass:"link",on:{click:function(a){return o.removeItem(t)}}},[o._v("删除")])])])}),0)],2),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"btn-main",on:{click:function(a){return o.exportGoods()}}},[o._v("确认添加")]),e("button",{staticClass:"btn-fill-grey-main",on:{click:function(a){return o.cancelGoods()}}},[o._v("取消")])])])],1)},l=[],r=e("4d86"),d={data:function(){return{showGoodsModal:!0,toggleAction:1,cateList:[],brandList:[],tableData:[],total:0,listParams:{status:1,limit:10,page:1,brandIds:"",cateId:""},selectedGoodsList:[]}},created:function(){this.init()},methods:{init:function(){this.getBrandList(),this.getCateList(),this.getList()},getBrandList:function(){var o=this;this.api.brand.letterList({}).then(function(a){o.brandList=a.data})},getCateList:function(){var o=this;this.api.category.categoryNode({parentId:0}).then(function(a){o.cateList=a.data})},getList:function(){var o=this;this.api.goods.list(this.listParams).then(function(a){o.tableData=a.data.dataList,o.total=a.data.total,o.selectedGoodsList.length>0&&o.tableData.forEach(function(a){o.selectedGoodsList.forEach(function(o){a.id===o.id&&(a.checked=!0)})})})},selectItem:function(o){var a=!1;this.selectedGoodsList.forEach(function(e){o.id===e.id&&(a=!0)}),a?this.$message.info({message:"不可添加相同的商品",showClose:!0}):(this.$message.success({message:"添加成功",showClose:!0}),this.selectedGoodsList.push(o),o.checked=!0)},removeItem:function(o){this.selectedGoodsList.splice(o,1)},exportGoods:function(){this.$emit("dialogGoods",{goodsList:this.selectedGoodsList})},cancelGoods:function(){this.showGoodsModal=!0,this.$emit("dialogGoodsCancel")}},components:{Pagination:r["a"]}},p=d,u=(e("3f36"),e("2877")),m=Object(u["a"])(p,c,l,!1,null,"36fcfc2b",null),v=m.exports,h=e("0351"),y={data:function(){return{id:"",readonly:!1,showGoodsModal:!1,showBrandModal:!1,showCategoryModal:!1,showShopModal:!1,limitType:0,timeType:1,selectCategoryList:[],selectBrandList:[],selectShopList:[],selectGoodsList:[],couponTypeList:[{id:0,name:"优惠券"}],couponParams:{couponType:0,couponValueType:0,conditionType:0,startTime:"",endTime:"",desc:""}}},created:function(){var o=this;this.id=this.$route.params.id||"",this.id&&this.api.coupon.detail({couponConfigId:this.id}).then(function(a){o.readonly=!0,o.couponParams.couponType=a.data.couponType,o.couponParams.couponName=a.data.couponName,o.couponParams.couponValueType=a.data.couponValueType,o.couponParams.couponValue=a.data.couponValue,o.couponParams.couponCount=a.data.couponCount,o.couponParams.desc=a.data.desc||"",o.couponParams.conditionType=a.data.conditionType,o.couponParams.timeType=a.data.timeType,1===a.data.timeType?(o.couponParams.startTime=a.data.startTime,o.couponParams.endTime=a.data.endTime):o.couponParams.afterDays=a.data.afterDays,a.data.orderPriceLimit?(o.limitType=1,o.couponParams.orderPriceLimit=a.data.orderPriceLimit):o.limitType=0,1===a.data.conditionType?o.selectCategoryList=a.data.condition:2===a.data.conditionType?o.selectBrandList=a.data.condition:3===a.data.conditionType?o.selectGoodsList=a.data.condition:4===a.data.conditionType?o.selectShopList=a.data.condition:o.couponParams.conditionType=0})},methods:{dialogCategory:function(o){this.selectCategoryList=o.categoryList,this.showCategoryModal=!1},dialogCategoryCancel:function(){this.showCategoryModal=!1},dialogGoods:function(o){this.selectGoodsList=o.goodsList,this.showGoodsModal=!1},dialogGoodsCancel:function(){this.showGoodsModal=!1},dialogShop:function(o){this.selectShopList=o.shopList,this.showShopModal=!1},dialogShopCancel:function(){this.showShopModal=!1},removeShop:function(o){this.selectShopList.splice(o,1)},dialogBrand:function(o){this.selectBrandList=o.brandList,this.showBrandModal=!1},dialogBrandCancel:function(){this.showBrandModal=!1},removeCategory:function(o){this.selectCategoryList.splice(o,1)},removeBrand:function(o){this.selectBrandList.splice(o,1)},removeGoods:function(o){this.selectGoodsList.splice(o,1)},checkComplete:function(){return!(this.couponParams.couponType&&!this.couponParams.couponCode)&&(!!this.couponParams.couponName&&(!!this.couponParams.couponCount&&!!this.couponParams.couponValue))},saveCoupon:function(){var o=this;if(!this.checkComplete())return this.$message.info({message:"请将所有信息填写完整",showClose:!0}),!1;var a={couponType:this.couponParams.couponType,couponName:this.couponParams.couponName,couponValueType:this.couponParams.couponValueType,couponValue:this.couponParams.couponValue,couponCount:this.couponParams.couponCount,desc:this.couponParams.desc,conditionType:this.couponParams.conditionType,condition:{}};if(1!==this.couponParams.couponType||(a.couponCode=this.couponParams.couponCode||"",a.couponCode)){if(0===this.limitType?a.orderPriceLimit=0:a.orderPriceLimit=this.couponParams.orderPriceLimit,a.timeType=this.timeType,0===this.timeType?(a.afterDays=this.couponParams.afterDays,delete a.startTime,delete a.endTime):(a.startTime=this.couponParams.startTime,a.endTime=this.couponParams.endTime),1===this.couponParams.conditionType){var e=[];this.selectCategoryList.forEach(function(o){e.push(o.id)}),a.condition.categories=e}else if(2===this.couponParams.conditionType){var t=[];this.selectBrandList.forEach(function(o){t.push(o.id)}),a.condition.brands=t}else if(3===this.couponParams.conditionType){var s=[];this.selectGoodsList.forEach(function(o){s.push(o.id)}),a.condition.items=s}else if(4===this.couponParams.conditionType){var i=[];this.selectShopList.forEach(function(o){i.push(o.id)}),a.condition.shopIds=i}else a.condition={};a.condition=JSON.stringify(a.condition),this.api.coupon.add(a).then(function(a){o.$message.success({message:a.message,showClose:!0}),a.success&&o.$router.go(-1)})}else this.$message.info({message:"请填写优惠码",showClose:!0})}},components:{selectCategory:i["a"],selectBrand:n["a"],selectGoods:v,selectShop:h["a"]}},g=y,f=(e("92eb"),Object(u["a"])(g,t,s,!1,null,null,null));a["default"]=f.exports},efb2:function(o,a,e){}}]);
//# sourceMappingURL=chunk-6d4ffc7a.f4773383.js.map