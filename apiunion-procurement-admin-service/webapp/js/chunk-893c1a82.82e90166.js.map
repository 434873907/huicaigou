{"version":3,"sources":["webpack:///./src/components/selectBrand/index.vue?5719","webpack:///src/components/selectBrand/index.vue","webpack:///./src/components/selectBrand/index.vue?eb4e","webpack:///./src/components/selectBrand/index.vue?38e1","webpack:///./src/components/selectCategory/index.vue?0dcb","webpack:///src/components/selectCategory/index.vue","webpack:///./src/components/selectCategory/index.vue?2edc","webpack:///./src/components/selectCategory/index.vue?156f","webpack:///./src/components/selectBrand/index.vue?74a3","webpack:///./src/components/selectCategory/index.vue?643c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","brandShow","cancelBrand","on","$event","_v","directives","name","rawName","value","expression","domProps","type","indexOf","_k","keyCode","key","getBrand","target","composing","brandName","_l","item","index","class","currentLetter","selectLetter","_s","removeSelect","selectItem","slot","exportBrand","staticRenderFns","props","multiply","default","selected","data","searchBrandList","selectedBrandList","letterList","created","init","methods","showDialog","copy","api","brand","letter","forEach","exist","push","splice","$emit","$message","info","component","showCategory","cancelCategory","id","removeSelected","currentBar","stopPropagation","selectFirst","allSelect","firstAllSelect","checked","selectAll","cell","selectThird","parentId","exportCategory","cateTree","selectedCategoryList","getCateTree","category","tree","then","first","children","second","select","third","firstId"],"mappings":"kKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,QAAQ,QAAUP,EAAIQ,UAAU,MAAQ,QAAQ,eAAeR,EAAIS,aAAaC,GAAG,CAAC,iBAAiB,SAASC,GAAQX,EAAIQ,UAAUG,KAAU,CAACP,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIY,GAAG,WAAWR,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOhB,EAAa,UAAEiB,WAAW,cAAcX,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,YAAc,WAAWW,SAAS,CAAC,MAASlB,EAAa,WAAGU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOQ,KAAKC,QAAQ,QAAQpB,EAAIqB,GAAGV,EAAOW,QAAQ,QAAQ,GAAGX,EAAOY,IAAI,SAAkB,KAAcvB,EAAIwB,SAASb,IAAS,MAAQ,SAASA,GAAWA,EAAOc,OAAOC,YAAqB1B,EAAI2B,UAAUhB,EAAOc,OAAOT,aAAYZ,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIY,GAAG,cAAcZ,EAAI4B,GAAI5B,EAAc,WAAE,SAAS6B,EAAKC,GAAO,OAAO1B,EAAG,OAAO,CAACmB,IAAIO,EAAM,SAASxB,YAAY,SAASyB,MAAM,CAAC,OAAS/B,EAAIgC,gBAAgBH,GAAMnB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIiC,aAAaJ,MAAS,CAAC7B,EAAIY,GAAGZ,EAAIkC,GAAGL,SAAY,KAAKzB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIY,GAAG,WAAWZ,EAAI4B,GAAI5B,EAAqB,kBAAE,SAAS6B,EAAKC,GAAO,OAAO1B,EAAG,OAAO,CAACmB,IAAIO,EAAM,WAAWxB,YAAY,iBAAiB,CAACN,EAAIY,GAAG,iBAAiBZ,EAAIkC,GAAGL,EAAKf,MAAM,kBAAkBV,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,gBAAgBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAImC,aAAaL,MAAU,CAAC9B,EAAIY,GAAG,YAAY,GAAGR,EAAG,MAAM,CAACE,YAAY,4BAA4BN,EAAI4B,GAAI5B,EAAmB,gBAAE,SAAS6B,EAAKC,GAAO,OAAO1B,EAAG,OAAO,CAACmB,IAAIO,EAAM,QAAQxB,YAAY,cAAc,CAACF,EAAG,IAAI,CAACE,YAAY,OAAOI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIoC,WAAWP,MAAS,CAAC7B,EAAIY,GAAGZ,EAAIkC,GAAGL,EAAKf,aAAa,KAAKV,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAU8B,KAAK,UAAU,CAACjC,EAAG,SAAS,CAACE,YAAY,WAAWI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIsC,iBAAiB,CAACtC,EAAIY,GAAG,QAAQR,EAAG,SAAS,CAACE,YAAY,qBAAqBI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIS,iBAAiB,CAACT,EAAIY,GAAG,aAAa,IACzvE2B,EAAkB,GCmCtB,G,UAAA,CACEzB,KAAM,cACN0B,MAAO,CACLC,SAAU,CACRC,SAAS,GAEXC,SAAU,CACRD,QAAS,KAGbE,KAVF,WAWI,MAAO,CACLpC,WAAW,EACXqC,gBAAiB,GACjBC,kBAAmB,GACnBnB,UAAW,GACXK,cAAe,GACfe,WAAY,CAAC,IAAnB,2GAGEC,QApBF,WAqBI/C,KAAKgD,QAEPC,QAAS,CACPC,WADJ,WAEMlD,KAAKO,WAAY,GAEnByC,KAJJ,WAKA,yBACQhD,KAAK6C,kBAAoB7C,KAAKmD,KAAKnD,KAAK0C,WAG1C1C,KAAKuB,YAEPA,SAXJ,WAWA,WACMvB,KAAKoD,IAAIC,MAAMP,WAAW,CAAhC,iEACQ,EAAR,0BAGId,aAhBJ,SAgBA,GACA,uBACQhC,KAAK+B,cAAgB,GAErB/B,KAAK+B,cAAgBuB,EAEvBtD,KAAKuB,YAEPY,WAxBJ,SAwBA,GACM,GAAN,cACQ,GAAR,iCACU,IAAV,KACUnC,KAAK6C,kBAAkBU,QAAQ,SAAzC,GACA,cACcC,GAAQ,KAGtB,GACYxD,KAAK6C,kBAAkBY,KAAK7B,QAG9B5B,KAAK6C,kBAAkBY,KAAK7B,QAG9B5B,KAAK6C,kBAAoB,GACzB7C,KAAK6C,kBAAkBY,KAAK7B,IAGhCM,aA5CJ,SA4CA,GACMlC,KAAK6C,kBAAkBa,OAAO7B,EAAO,IAEvCQ,YA/CJ,WAgDA,kCAIMrC,KAAK2D,MAAM,cAAe,CAAhC,mCAHQ3D,KAAK4D,SAASC,KAAK,CAA3B,gCAKIrD,YAtDJ,WAuDMR,KAAKO,WAAY,EACjBP,KAAK2D,MAAM,yBCnH6U,I,wBCQ1VG,EAAY,eACd,EACAhE,EACAwC,GACA,EACA,KACA,WACA,MAIa,OAAAwB,E,2CCnBf,IAAIhE,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,QAAQ,QAAUP,EAAIgE,aAAa,MAAQ,QAAQ,eAAehE,EAAIiE,gBAAgBvD,GAAG,CAAC,iBAAiB,SAASC,GAAQX,EAAIgE,aAAarD,KAAU,CAACP,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIY,GAAG,UAAUZ,EAAI4B,GAAI5B,EAAwB,qBAAE,SAAS6B,EAAKC,GAAO,OAAO1B,EAAG,OAAO,CAACmB,IAAIM,EAAKqC,GAAG5D,YAAY,QAAQ,CAACN,EAAIY,GAAG,aAAaZ,EAAIkC,GAAGL,EAAKf,MAAM,cAAcV,EAAG,OAAO,CAACE,YAAY,gBAAgBI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAImE,eAAerC,MAAU,CAAC9B,EAAIY,GAAG,YAAY,GAAGR,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAI4B,GAAI5B,EAAY,SAAE,SAAS6B,GAAM,OAAOzB,EAAG,MAAM,CAACmB,IAAIM,EAAKqC,GAAG5D,YAAY,aAAayB,MAAM,CAAC,OAAS/B,EAAIoE,WAAWF,KAAKrC,EAAKqC,IAAIxD,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0D,kBAAyBrE,EAAIsE,YAAYzC,MAAS,CAAC7B,EAAIY,GAAG,eAAeZ,EAAIkC,GAAGL,EAAKf,MAAM,oBAAoBV,EAAG,MAAM,CAACE,YAAY,YAAYI,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0D,kBAAyBrE,EAAIuE,eAAe,CAACnE,EAAG,MAAM,CAACE,YAAY,MAAMyB,MAAM,CAAC,OAAS/B,EAAIwE,kBAAkBpE,EAAG,OAAO,CAACJ,EAAIY,GAAG,WAAW,GAAGR,EAAG,MAAM,CAACE,YAAY,iBAAiBN,EAAI4B,GAAI5B,EAAIoE,WAAmB,SAAE,SAASvC,GAAM,OAAOzB,EAAG,MAAM,CAACmB,IAAIM,EAAKqC,GAAG5D,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIkC,GAAGL,EAAKf,SAASV,EAAG,MAAM,CAACS,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQa,EAAK4C,QAASxD,WAAW,kBAAkBX,YAAY,YAAYI,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0D,kBAAyBrE,EAAI0E,UAAU,EAAG7C,GAAM,MAAS,CAACzB,EAAG,MAAM,CAACE,YAAY,MAAMyB,MAAM,CAAC,OAASF,EAAK4C,WAAWrE,EAAG,OAAO,CAACJ,EAAIY,GAAG,UAAUR,EAAG,MAAM,CAACS,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOa,EAAY,QAAEZ,WAAW,iBAAiBX,YAAY,YAAYI,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAO0D,kBAAyBrE,EAAI0E,UAAU,EAAG7C,GAAM,MAAU,CAACzB,EAAG,MAAM,CAACE,YAAY,MAAMyB,MAAM,CAAC,OAASF,EAAK4C,WAAWrE,EAAG,OAAO,CAACJ,EAAIY,GAAG,YAAYR,EAAG,MAAM,CAACE,YAAY,iBAAiBN,EAAI4B,GAAIC,EAAa,SAAE,SAAS8C,GAAM,OAAOvE,EAAG,OAAO,CAACmB,IAAIoD,EAAKT,GAAG5D,YAAY,aAAaI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI4E,YAAYD,EAAK9C,EAAKgD,aAAa,CAAC7E,EAAIY,GAAGZ,EAAIkC,GAAGyC,EAAK7D,WAAW,OAAO,KAAKV,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAU8B,KAAK,UAAU,CAACjC,EAAG,SAAS,CAACE,YAAY,WAAWI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAI8E,oBAAoB,CAAC9E,EAAIY,GAAG,QAAQR,EAAG,SAAS,CAACE,YAAY,qBAAqBI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIiE,oBAAoB,CAACjE,EAAIY,GAAG,aAAa,IACjnF2B,EAAkB,GCiDtB,G,UAAA,CACEC,MAAO,CACLC,SAAU,CACRC,SAAS,GAEXC,SAAU,CACRD,QAAS,KAGbE,KATF,WAUI,MAAO,CACLoB,cAAc,EACde,SAAU,GACVX,WAAY,GACZY,qBAAsB,GACtBR,gBAAN,IAGExB,QAlBF,WAmBA,yBACM/C,KAAK+E,qBAAuB/E,KAAKmD,KAAKnD,KAAK0C,WAE7C1C,KAAKgF,eAEP/B,QAAS,CACP+B,YADJ,WACA,WACMhF,KAAKoD,IAAI6B,SAASC,KAAK,IAAIC,KAAK,SAAtC,GACQ,EAAR,gBACQ,EAAR,6BACU,EAAV,qBACA,iCACYC,EAAMC,SAAS9B,QAAQ,SAAnC,GACc,EAAd,qBACA,iCACgB+B,EAAOD,SAAS9B,QAAQ,SAAxC,GACkB,EAAlB,2BAMQ,EAAR,yBACQ,EAAR,+BAGIkB,UArBJ,SAqBA,kBACM,GAAN,MAEQ,GADA7C,EAAK4C,QAAUA,GACvB,MACA,iCACY5C,EAAKyD,SAAS9B,QAAQ,SAAlC,GACc+B,EAAOd,SAAU,EAC/B,iCACgBc,EAAOD,SAAS9B,QAAQ,SAAxC,GACkB,EAAlB,kCAKA,CACU,IAAV,KAWU,GAVV,iCACY3B,EAAKyD,SAAS9B,QAAQ,SAAlC,GACc+B,EAAOd,SAAU,EAC/B,iCACgBc,EAAOD,SAAS9B,QAAQ,SAAxC,GACkBgC,EAAO9B,KAAK+B,EAAMvB,QAKpC,gDACY,IAAZ,KACYjE,KAAK+E,qBAAqBxB,QAAQ,SAA9C,IACA,qBACgB/B,EAAOiC,KAAK7B,KAGhB5B,KAAK+E,qBAAuBvD,QAKhC,GADAI,EAAK4C,QAAUA,GACvB,MACA,iCACY5C,EAAKyD,SAAS9B,QAAQ,SAAlC,GACc,EAAd,gCAGA,CACU,IAAV,KAMU,GALV,iCACY3B,EAAKyD,SAAS9B,QAAQ,SAAlC,GACc,EAAd,aAGA,gDACY,IAAZ,KACYvD,KAAK+E,qBAAqBxB,QAAQ,SAA9C,IACA,qBACgB,EAAhB,UAGYvD,KAAK+E,qBAAuB,KAKpCT,UApFJ,WAoFA,WACMtE,KAAKuE,gBAAkBvE,KAAKuE,eAClC,oBACQvE,KAAK8E,SAASvB,QAAQ,SAA9B,GACU,EAAV,oBAGQvD,KAAK+E,qBAAuB,IAIhCV,YA/FJ,SA+FA,GACMrE,KAAKmE,WAAavC,GAEpB+C,YAlGJ,SAkGA,KAEM,GADA/C,EAAK6D,QAAUA,EACrB,eACQ,IAAR,KACQzF,KAAK+E,qBAAqBxB,QAAQ,SAA1C,GACA,cACYC,GAAQ,KAGpB,GACUxD,KAAK+E,qBAAqBtB,KAAK7B,QAGzC,uCACU5B,KAAK+E,qBAAuB,IAE9B/E,KAAK+E,qBAAqBtB,KAAK7B,IAGnCsC,eArHJ,SAqHA,GACMlE,KAAK+E,qBAAqBrB,OAAO7B,EAAO,IAE1CgD,eAxHJ,WAyHA,qCAIM7E,KAAK2D,MAAM,iBAAkB,CAAnC,yCAHQ3D,KAAK4D,SAASC,KAAK,CAA3B,oCAKIG,eA/HJ,WAgIMhE,KAAK+D,cAAe,EACpB/D,KAAK2D,MAAM,4BC3M6U,I,wBCQ1VG,EAAY,eACd,EACAhE,EACAwC,GACA,EACA,KACA,WACA,MAIa,OAAAwB,E,2CCnBf,yBAAsjB,EAAG,G,kCCAzjB,yBAAsjB,EAAG","file":"js/chunk-893c1a82.82e90166.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select-brand\"},[_c('el-dialog',{attrs:{\"title\":\"品牌选择:\",\"visible\":_vm.brandShow,\"width\":\"815px\",\"before-close\":_vm.cancelBrand},on:{\"update:visible\":function($event){_vm.brandShow=$event}}},[_c('div',{staticClass:\"dialog-form border-bottom\"},[_c('div',{staticClass:\"search-item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"品牌筛选：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.brandName),expression:\"brandName\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入品牌名称\"},domProps:{\"value\":(_vm.brandName)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getBrand($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.brandName=$event.target.value}}})]),_c('div',{staticClass:\"search-item\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"品牌英文名筛选：\")]),_vm._l((_vm.letterList),function(item,index){return _c('span',{key:index+'letter',staticClass:\"letter\",class:{'active':_vm.currentLetter===item},on:{\"click\":function($event){return _vm.selectLetter(item)}}},[_vm._v(_vm._s(item))])})],2)]),_c('div',{staticClass:\"dialog-form\"},[_c('div',{staticClass:\"search-item selected－brand\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"已选品牌：\")]),_vm._l((_vm.selectedBrandList),function(item,index){return _c('span',{key:index+'selected',staticClass:\"selected-item\"},[_vm._v(\"\\n            \"+_vm._s(item.name)+\"\\n            \"),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.removeSelect(index)}}},[_vm._v(\"X\")])])})],2),_c('div',{staticClass:\"search-item selected-box\"},_vm._l((_vm.searchBrandList),function(item,index){return _c('span',{key:index+'brand',staticClass:\"brand-item\"},[_c('a',{staticClass:\"link\",on:{\"click\":function($event){return _vm.selectItem(item)}}},[_vm._v(_vm._s(item.name))])])}),0)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('button',{staticClass:\"btn-main\",on:{\"click\":function($event){return _vm.exportBrand()}}},[_vm._v(\"确定\")]),_c('button',{staticClass:\"btn-fill-grey-main\",on:{\"click\":function($event){return _vm.cancelBrand()}}},[_vm._v(\"取消\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"select-brand\">\n    <el-dialog title=\"品牌选择:\" :visible.sync=\"brandShow\" width=\"815px\" :before-close=\"cancelBrand\">\n        <div class=\"dialog-form border-bottom\">\n          <div class=\"search-item\">\n            <span class=\"title\">品牌筛选：</span>\n            <input type=\"text\" class=\"form-control\" placeholder=\"请输入品牌名称\" v-model=\"brandName\" @keyup.enter=\"getBrand\" />\n          </div>\n          <div class=\"search-item\">\n            <span class=\"title\">品牌英文名筛选：</span>\n            <span class=\"letter\" v-for=\"(item, index) in letterList\" :key=\"index+'letter'\" :class=\"{'active':currentLetter===item}\" @click=\"selectLetter(item)\">{{item}}</span>\n          </div>\n        </div>\n        <div class=\"dialog-form\">\n          <div class=\"search-item selected－brand\">\n            <span class=\"title\">已选品牌：</span>\n            <span class=\"selected-item\" v-for=\"(item, index) in selectedBrandList\" :key=\"index+'selected'\">\n              {{item.name}}\n              <a href=\"javascript:;\" @click=\"removeSelect(index)\">X</a>\n            </span>\n          </div>\n          <div class=\"search-item selected-box\">\n            <span class=\"brand-item\" v-for=\"(item, index) in searchBrandList\" :key=\"index+'brand'\">\n              <a class=\"link\" @click=\"selectItem(item)\">{{item.name}}</a>\n            </span>\n          </div>\n        </div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <button class=\"btn-main\" @click=\"exportBrand()\">确定</button>\n          <button class=\"btn-fill-grey-main\" @click=\"cancelBrand()\">取消</button>\n        </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'selectBrand',\n  props: {\n    multiply: {   // 品牌多选:true, 类目单选:false, 默认多选\n      default: true\n    },\n    selected: {   // 打开模态框前已选择的品牌\n      default: ''\n    }\n  },\n  data() {\n    return {\n      brandShow: true,\n      searchBrandList: [],\n      selectedBrandList: [],\n      brandName: '',\n      currentLetter: '',\n      letterList: ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','#'],\n    }\n  },\n  created() {\n    this.init();\n  },\n  methods: {\n    showDialog(){\n      this.brandShow = true;\n    },\n    init() {\n      if(this.selected.length>0) {\n        this.selectedBrandList = this.copy(this.selected);\n      }\n      // 获取品牌列表\n      this.getBrand(); \n    },\n    getBrand() {\n      this.api.brand.letterList({name: this.brandName, letter: this.currentLetter}).then((res) => {\n        this.searchBrandList = res.data;\n      });\n    },\n    selectLetter(letter) {\n      if(this.currentLetter === letter){\n        this.currentLetter = '';\n      }else{\n        this.currentLetter = letter;\n      }\n      this.getBrand();\n    },\n    selectItem(item) {\n      if(this.multiply) {\n        if(this.selectedBrandList.length>0){\n          let exist = false;\n          this.selectedBrandList.forEach((brand) => {\n            if(brand.id === item.id){\n              exist = true;\n            }\n          });\n          if(!exist){\n            this.selectedBrandList.push(item);\n          }\n        } else {\n          this.selectedBrandList.push(item);\n        }\n      } else {\n        this.selectedBrandList = [];\n        this.selectedBrandList.push(item);\n      }\n    },\n    removeSelect(index) {\n      this.selectedBrandList.splice(index, 1);\n    },\n    exportBrand() {\n      if(this.selectedBrandList.length===0) {\n        this.$message.info({message:'请选择品牌', showClose:true});\n        return\n      }\n      this.$emit('dialogBrand', { brandList: this.selectedBrandList });\n    },\n    cancelBrand() {\n      this.brandShow = true;\n      this.$emit('dialogBrandCancel');\n    }\n  }\n}\n</script>\n\n<style lang='scss' scoped>\n.select-brand {\n  .border-bottom{\n    border-bottom: 1px solid $border-color;\n  }\n  .dialog-form{\n    padding-left: 0;\n    .search-item{\n      padding-bottom: 10px;\n      span{\n        display: inline-block;\n        vertical-align: top;\n        line-height: 30px;\n      }\n      .title{\n        color: #333;\n        font-weight: bold;\n        font-size: 14px;\n        width: 82px;\n      }\n      .form-control{\n        width: 670px;\n      }\n      .letter{\n        cursor: pointer;\n        margin-right: 14px;\n        &.active{\n          color: #F06941;\n        }\n      }\n      .selected-item{\n        margin-top: 10px;\n        height: 22px;\n        line-height: 22px;\n        padding: 0 20px 0 8px;\n        border-radius: 22px;\n        background: $main-color;\n        color: #fff;\n        margin-right: 10px;\n        font-size: 12px;\n        max-width: 200px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        position: relative;\n        a{\n          position: absolute;\n          color: #fff;\n          font-size: 12px;\n          top: 0;\n          right: 10px;\n        }\n      }\n    }\n    .selected－brand{\n      padding-top: 10px;\n      padding-bottom: 0;\n    }\n    .selected-box{\n      max-height: 200px;\n      overflow: auto;\n      .brand-item{\n        display: inline-block;\n        vertical-align: top;\n        width: 20%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        .link{\n          display: inline-block;\n          vertical-align: top;\n          line-height: 30px;\n          color: #333;\n          border-radius: 30px;\n          padding: 0 8px;\n          border: 1px solid #fff;\n          max-width: 100%;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          &:hover{\n            color: $main-color;\n            border: 1px solid $main-color;\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3f6ec815&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3f6ec815&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f6ec815\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select-category\"},[_c('el-dialog',{attrs:{\"title\":\"类目选择:\",\"visible\":_vm.showCategory,\"width\":\"815px\",\"before-close\":_vm.cancelCategory},on:{\"update:visible\":function($event){_vm.showCategory=$event}}},[_c('div',{staticClass:\"selected-cate\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"已选类目\")]),_vm._l((_vm.selectedCategoryList),function(item,index){return _c('span',{key:item.id,staticClass:\"item\"},[_vm._v(\"\\n        \"+_vm._s(item.name)+\"\\n        \"),_c('span',{staticClass:\"remove-select\",on:{\"click\":function($event){return _vm.removeSelected(index)}}},[_vm._v(\"X\")])])})],2),_c('div',{staticClass:\"dialog-form\"},[_c('div',{staticClass:\"left-bar\"},[_vm._l((_vm.cateTree),function(item){return _c('div',{key:item.id,staticClass:\"first-item\",class:{'active':_vm.currentBar.id===item.id},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectFirst(item)}}},[_vm._v(\"\\n          \"+_vm._s(item.name)+\"\\n          \")])}),_c('div',{staticClass:\"selectAll\",on:{\"click\":function($event){$event.stopPropagation();return _vm.allSelect()}}},[_c('div',{staticClass:\"dot\",class:{'active':_vm.firstAllSelect}}),_c('span',[_vm._v(\"全选\")])])],2),_c('div',{staticClass:\"right-content\"},_vm._l((_vm.currentBar.children),function(item){return _c('div',{key:item.id,staticClass:\"second-item\"},[_c('div',{staticClass:\"second-item-title\"},[_c('h2',[_vm._v(_vm._s(item.name))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!item.checked),expression:\"!item.checked\"}],staticClass:\"selectAll\",on:{\"click\":function($event){$event.stopPropagation();return _vm.selectAll(2, item, true)}}},[_c('div',{staticClass:\"dot\",class:{'active':item.checked}}),_c('span',[_vm._v(\"全选\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.checked),expression:\"item.checked\"}],staticClass:\"selectAll\",on:{\"click\":function($event){$event.stopPropagation();return _vm.selectAll(2, item, false)}}},[_c('div',{staticClass:\"dot\",class:{'active':item.checked}}),_c('span',[_vm._v(\"全选\")])])]),_c('div',{staticClass:\"third-content\"},_vm._l((item.children),function(cell){return _c('span',{key:cell.id,staticClass:\"third-item\",on:{\"click\":function($event){return _vm.selectThird(cell,item.parentId)}}},[_vm._v(_vm._s(cell.name))])}),0)])}),0)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('button',{staticClass:\"btn-main\",on:{\"click\":function($event){return _vm.exportCategory()}}},[_vm._v(\"确定\")]),_c('button',{staticClass:\"btn-fill-grey-main\",on:{\"click\":function($event){return _vm.cancelCategory()}}},[_vm._v(\"取消\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"select-category\">\n    <el-dialog title=\"类目选择:\" :visible.sync=\"showCategory\" width=\"815px\" :before-close=\"cancelCategory\">\n      <div class=\"selected-cate\">\n        <span class=\"title\">已选类目</span>\n        <span class=\"item\" v-for=\"(item, index) in selectedCategoryList\" :key=\"item.id\">\n          {{item.name}}\n          <span class=\"remove-select\" @click=\"removeSelected(index)\">X</span>\n        </span>\n      </div>\n      <div class=\"dialog-form\">\n        <div class=\"left-bar\">\n          <div class=\"first-item\" v-for=\"item in cateTree\" :key=\"item.id\" @click.stop=\"selectFirst(item)\" :class=\"{'active':currentBar.id===item.id}\">\n            {{item.name}}\n            <!-- <a class=\"link\" v-show=\"!item.checked\" @click.stop=\"selectAll(1, item, true)\">全选</a>\n            <a class=\"link\" v-show=\"item.checked\" @click.stop=\"selectAll(1, item, false)\">反选</a> -->\n          </div>\n          <div class=\"selectAll\" @click.stop=\"allSelect()\">\n            <div class=\"dot\" :class=\"{'active':firstAllSelect}\"></div>\n            <span>全选</span>\n        </div>\n        </div>\n        <div class=\"right-content\">\n          <div class=\"second-item\" v-for=\"item in currentBar.children\" :key=\"item.id\">\n            <div class=\"second-item-title\">\n              <h2>{{item.name}}</h2>\n              <div class=\"selectAll\" v-show=\"!item.checked\" @click.stop=\"selectAll(2, item, true)\">\n                <div class=\"dot\" :class=\"{'active':item.checked}\"></div>\n                <span>全选</span>\n              </div>\n              <div class=\"selectAll\" v-show=\"item.checked\" @click.stop=\"selectAll(2, item, false)\">\n                <div class=\"dot\" :class=\"{'active':item.checked}\"></div>\n                <span>全选</span>\n              </div>\n            </div>\n            <div class=\"third-content\">\n              <span class=\"third-item\" v-for=\"cell in item.children\" :key=\"cell.id\" @click=\"selectThird(cell,item.parentId)\">{{cell.name}}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <button class=\"btn-main\" @click=\"exportCategory()\">确定</button>\n        <button class=\"btn-fill-grey-main\" @click=\"cancelCategory()\">取消</button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    multiply: {   // 类目多选:true, 类目单选:false, 默认多选\n      default: true\n    },\n    selected: {   // 打开模态框前已选择的类目\n      default: []\n    }\n  },\n  data() {\n    return {\n      showCategory: true,\n      cateTree: [],\n      currentBar: {},\n      selectedCategoryList: [],\n      firstAllSelect:false\n    }\n  },\n  created() {\n    if(this.selected.length>0) {\n      this.selectedCategoryList = this.copy(this.selected);\n    }\n    this.getCateTree();\n  },\n  methods: {\n    getCateTree() {\n      this.api.category.tree({}).then((res) => {\n        this.cateTree = res.data;\n        this.cateTree.forEach(first => {\n          this.$set(first, 'checked', false);\n          if(first.children && first.children.length>0) {\n            first.children.forEach(second => {\n              this.$set(second, 'checked', false);\n              if(second.children && second.children.length>0) {\n                second.children.forEach(third => {\n                  this.$set(third, 'checked', false);\n                });\n              }\n            });\n          }\n        });\n        this.currentBar = this.cateTree[0];\n        this.console('cate:', this.cateTree);\n      });\n    },\n    selectAll(level, item, checked) {\n      if(level === 1) {\n        item.checked = checked;\n        if(checked === true) {\n          if(item.children && item.children.length>0) {\n            item.children.forEach(second => {\n              second.checked = true;\n              if(second.children && second.children.length>0) {\n                second.children.forEach(third => {\n                  this.selectThird(third,second.parentId);\n                });\n              }\n            });\n          }\n        } else {\n          let select = [];\n          if(item.children && item.children.length>0) {\n            item.children.forEach(second => {\n              second.checked = false;\n              if(second.children && second.children.length>0) {\n                second.children.forEach(third => {\n                  select.push(third.id);\n                });\n              }\n            });\n          }\n          if(this.selectedCategoryList.length>0 && select.length>0) {\n            let target = [];\n            this.selectedCategoryList.forEach(item => {\n              if(select.indexOf(item.id) === -1) {\n                target.push(item);\n              }\n            });\n            this.selectedCategoryList = target;\n          }\n        }\n      } else {\n        item.checked = checked;\n        if(checked === true) {\n          if(item.children && item.children.length>0) {\n            item.children.forEach(third => {\n              this.selectThird(third,item.parentId);\n            });\n          }\n        } else {\n          let select = [];\n          if(item.children && item.children.length>0) {\n            item.children.forEach(third => {\n              select.push(third.id);\n            });\n          }\n          if(this.selectedCategoryList.length>0 && select.length>0) {\n            let target = [];\n            this.selectedCategoryList.forEach(item => {\n              if(select.indexOf(item.id) === -1) {\n                target.push(item);\n              }\n            });\n            this.selectedCategoryList = target;\n          }\n        }\n      }\n    },\n    allSelect(){\n      this.firstAllSelect = !this.firstAllSelect\n      if(this.firstAllSelect){\n        this.cateTree.forEach(first=>{\n          this.selectAll(1,first,true)\n        })\n      }else{\n        this.selectedCategoryList = []\n      }\n      \n    },\n    selectFirst(item) {\n      this.currentBar = item;\n    },\n    selectThird(item,firstId) {\n      item.firstId = firstId;\n      if(this.multiply) {\n        let exist = false;\n        this.selectedCategoryList.forEach(third => {\n          if(third.id === item.id) {\n            exist = true;\n          }\n        });\n        if(!exist) {\n          this.selectedCategoryList.push(item);\n        }\n      } else {\n        if(this.selectedCategoryList.length !== 0) {\n          this.selectedCategoryList = [];\n        }\n        this.selectedCategoryList.push(item);\n      }\n    },\n    removeSelected(index) {\n      this.selectedCategoryList.splice(index, 1);\n    },\n    exportCategory() {\n      if(this.selectedCategoryList.length === 0) {\n        this.$message.info({message:'请选择至少一个类目', showClose:true});\n        return\n      }\n      this.$emit('dialogCategory', { categoryList: this.selectedCategoryList });\n    },\n    cancelCategory() {\n      this.showCategory = true;\n      this.$emit('dialogCategoryCancel');\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .select-category{\n    .selected-cate{\n      padding: 10px 20px 0;\n      border-bottom: 1px solid $border-color;\n      span{\n        display: inline-block;\n        vertical-align: top;\n        font-size: 12px;\n      }\n      .title{\n        font-size: 14px;\n        font-weight: bold;\n        line-height: 22px;\n        margin-bottom: 10px;\n      }\n      .item{\n        height: 22px;\n        line-height: 22px;\n        padding: 0 8px;\n        background: $main-color;\n        color: #fff;\n        border-radius: 22px;\n        margin-left: 10px;\n        margin-bottom: 10px;\n        .remove-select{\n          padding: 0 4px;\n          cursor: pointer;\n        }\n      }\n    }\n    .dialog-form{\n      height: 380px;\n      overflow: auto;\n      border-bottom: 1px solid $border-color;\n      margin-bottom: 10px;\n      .selectAll{\n          padding-left: 30px;\n          height:40px;\n          line-height:40px;\n          .dot{\n            width:12px;\n            height:12px;\n            display:inline-block;\n            border-radius:50%;\n            border:1px solid #979797;\n            margin-right:4px;\n            line-height:40px;\n            &.active{\n              background:#f00;\n            }\n          }\n          span{\n            display:inline-block;\n            font-size:14px;\n            line-height:40px;\n            height:40px;\n          }\n        }\n      .left-bar{\n        display: inline-block;\n        vertical-align: top;\n        height: 100%;\n        width: 156px;\n        overflow: auto;\n        padding: 10px 0;\n        border-right: 1px solid $border-color;\n        .first-item{\n          font-size: 14px;\n          color: #666;\n          padding-left: 30px;\n          line-height: 40px;\n          cursor: pointer;\n          &:hover{\n            color: $main-color;\n          }\n          .link{\n            font-size: 12px;\n            padding-left: 5px;\n          }\n        }\n        .active{\n          color: $main-color;\n        }\n      }\n      .right-content{\n        display: inline-block;\n        vertical-align: top;\n        height: 100%;\n        width: calc(100% - 156px);\n        overflow: auto;\n        .second-item{\n          .second-item-title{\n            line-height: 40px;\n            padding:0 20px;\n            color: #333;\n            font-size: 14px;\n            font-weight: bold;\n            border-bottom: 1px solid $border-color;\n            height:40px;\n            display:flex;\n            justify-content:space-between;\n            .link{\n              font-size: 12px;\n              margin-left: 10px;\n            }\n          }\n          .third-content{\n            padding: 8px 10px;\n            .third-item{\n              display: inline-block;\n              vertical-align: top;\n              width: 20%;\n              line-height: 30px;\n              padding: 0 10px;\n              cursor: pointer;\n              &:hover{\n                color: #F06941;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=280844be&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=280844be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"280844be\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3f6ec815&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3f6ec815&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=280844be&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=280844be&lang=scss&scoped=true&\""],"sourceRoot":""}