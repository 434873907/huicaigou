{"version":3,"sources":["webpack:///./src/pages/center/marketing/presell/detail.vue?1d41","webpack:///./src/pages/center/marketing/presell/detail.vue?6ba3","webpack:///src/pages/center/marketing/presell/detail.vue","webpack:///./src/pages/center/marketing/presell/detail.vue?787c","webpack:///./src/pages/center/marketing/presell/detail.vue?8b64"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","detailData","expression","attrs","domProps","on","$event","target","composing","$set","model","callback","$$v","showGoodsModal","_m","userConfig","singleChannel","_l","item","index","key","val","index1","skuInfoList","length","mainImg","_s","itemName","_e","itemData","channelName","skuValue","price","stockNum","removeSku","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","_value","multiple","code","mixName","save","dialogGoods","dialogGoodsCancel","staticRenderFns","components","data","isDisabled","currencyList","depositStartTime","depositEndTime","tailStartTime","tailEndTime","itemId","skuSellLimit","channelType","currency","depositAmount","tailAmount","limit","limitNum","statusAfterAct","created","getCurrency","api","presell","get","methods","common","then","symbol","count","$message","error","res","goodsList","forEach","splice","$forceUpdate","i","skuId","JSON","stringify","component"],"mappings":"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","file":"js/chunk-4b6fc2be.a29548f3.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"presell-detail\"},[_c('h2',{staticClass:\"big-title\"},[_vm._v(\"编辑活动\")]),_c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"活动名称:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.detailData.name),expression:\"detailData.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.detailData.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.detailData, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"定金支付时间:\")]),_c('el-date-picker',{staticClass:\"timepicker-control\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"请选择开始时间\"},model:{value:(_vm.detailData.depositStartTime),callback:function ($$v) {_vm.$set(_vm.detailData, \"depositStartTime\", $$v)},expression:\"detailData.depositStartTime\"}}),_c('el-date-picker',{staticClass:\"timepicker-control\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"请选择结束时间\"},model:{value:(_vm.detailData.depositEndTime),callback:function ($$v) {_vm.$set(_vm.detailData, \"depositEndTime\", $$v)},expression:\"detailData.depositEndTime\"}})],1),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"尾款支付时间:\")]),_c('el-date-picker',{staticClass:\"timepicker-control\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"请选择开始时间\"},model:{value:(_vm.detailData.tailStartTime),callback:function ($$v) {_vm.$set(_vm.detailData, \"tailStartTime\", $$v)},expression:\"detailData.tailStartTime\"}}),_c('el-date-picker',{staticClass:\"timepicker-control\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"placeholder\":\"请选择结束时间\"},model:{value:(_vm.detailData.tailEndTime),callback:function ($$v) {_vm.$set(_vm.detailData, \"tailEndTime\", $$v)},expression:\"detailData.tailEndTime\"}})],1),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"活动商品:\")]),_c('a',{staticClass:\"select-goods\",on:{\"click\":function($event){_vm.showGoodsModal=true}}},[_vm._v(\"+ 选择商品\")]),_c('span',{staticClass:\"form-tip\"},[_vm._v(\"(仅添加设置为预售商品，非预售商品无法参加此活动)\")])]),_vm._m(0),_c('div',{staticClass:\"goods-list\"},[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"w300\"},[_vm._v(\"商品名称\")]),_c('th',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.userConfig.singleChannel),expression:\"!userConfig.singleChannel\"}],staticClass:\"w150\"},[_vm._v(\"渠道\")]),_c('th',{staticClass:\"w150\"},[_vm._v(\"SKU\")]),_c('th',{staticClass:\"w100\"},[_vm._v(\"商品价格\")]),_c('th',{staticClass:\"w100\"},[_vm._v(\"库存\")]),_c('th',{staticClass:\"w100\"},[_vm._v(\"限售\")]),_c('th',[_vm._v(\"操作\")])])]),_vm._l((_vm.itemData),function(item,index){return _c('tbody',{key:index},_vm._l((item.skuInfoList),function(val,index1){return _c('tr',{key:index1},[(index1 == 0)?_c('td',{staticClass:\"item-name\",attrs:{\"rowspan\":item.skuInfoList.length+1}},[_c('img',{attrs:{\"src\":item.mainImg}}),_c('span',[_c('a',[_vm._v(_vm._s(item.itemName))])])]):_vm._e(),_c('td',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.userConfig.singleChannel),expression:\"!userConfig.singleChannel\"}],attrs:{\"rowspan\":item.skuInfoList.length+1}},[_vm._v(_vm._s(_vm.itemData.channelName))]),_c('td',[_vm._v(_vm._s(val.skuValue))]),_c('td',[_vm._v(_vm._s(val.price))]),_c('td',[_vm._v(_vm._s(val.stockNum))]),_c('td',[_c('ApiInput',{model:{value:(val.limitNum),callback:function ($$v) {_vm.$set(val, \"limitNum\", $$v)},expression:\"val.limitNum\"}})],1),_c('td',[_c('a',{staticClass:\"link\",on:{\"click\":function($event){return _vm.removeSku(index1,item.itemName)}}},[_vm._v(\"删除\")])])])}),0)})],2)]),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"货币:\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.detailData.currency),expression:\"detailData.currency\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.detailData, \"currency\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":0}},[_vm._v(\"请选择\")]),_vm._l((_vm.currencyList),function(item){return _c('option',{key:item.code,domProps:{\"value\":item.code}},[_vm._v(_vm._s(item.mixName))])})],2)]),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"定金金额:\")]),_c('ApiInput',{model:{value:(_vm.detailData.depositAmount),callback:function ($$v) {_vm.$set(_vm.detailData, \"depositAmount\", $$v)},expression:\"detailData.depositAmount\"}})],1),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"尾款金额:\")]),_c('ApiInput',{model:{value:(_vm.detailData.tailAmount),callback:function ($$v) {_vm.$set(_vm.detailData, \"tailAmount\", $$v)},expression:\"detailData.tailAmount\"}})],1),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"是否限购:\")]),_c('el-radio',{attrs:{\"name\":\"disabled\",\"label\":1},model:{value:(_vm.detailData.limit),callback:function ($$v) {_vm.$set(_vm.detailData, \"limit\", $$v)},expression:\"detailData.limit\"}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"name\":\"disabled\",\"label\":0},model:{value:(_vm.detailData.limit),callback:function ($$v) {_vm.$set(_vm.detailData, \"limit\", $$v)},expression:\"detailData.limit\"}},[_vm._v(\"否\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.detailData.limit),expression:\"detailData.limit\"}],staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"限购数量:\")]),_c('ApiInput',{model:{value:(_vm.detailData.limitNum),callback:function ($$v) {_vm.$set(_vm.detailData, \"limitNum\", $$v)},expression:\"detailData.limitNum\"}})],1),_c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name form-name-long\"},[_vm._v(\"活动结束后商品:\")]),_c('el-radio',{attrs:{\"name\":\"disabled\",\"label\":1},model:{value:(_vm.detailData.statusAfterAct),callback:function ($$v) {_vm.$set(_vm.detailData, \"statusAfterAct\", $$v)},expression:\"detailData.statusAfterAct\"}},[_vm._v(\"正常销售\")]),_c('el-radio',{attrs:{\"name\":\"disabled\",\"label\":0},model:{value:(_vm.detailData.statusAfterAct),callback:function ($$v) {_vm.$set(_vm.detailData, \"statusAfterAct\", $$v)},expression:\"detailData.statusAfterAct\"}},[_vm._v(\"自动下架\")])],1),_c('div',{staticClass:\"btn-main\",on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"保存\")])]),(_vm.showGoodsModal)?_c('selectActGoods',{attrs:{\"presell\":1},on:{\"dialogGoods\":_vm.dialogGoods,\"dialogGoodsCancel\":_vm.dialogGoodsCancel}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-wrap\"},[_c('div',{staticClass:\"form-name\"},[_vm._v(\"商品信息:\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"presell-detail\">\n    <h2 class=\"big-title\">编辑活动</h2>\n    <div class=\"wrap\">\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">活动名称:</div>\n        <input type=\"text\" class=\"form-control\" v-model=\"detailData.name\">\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">定金支付时间:</div>\n        <el-date-picker class=\"timepicker-control\" size=\"small\" type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"  placeholder=\"请选择开始时间\" v-model=\"detailData.depositStartTime\"></el-date-picker>\n        <el-date-picker class=\"timepicker-control\" size=\"small\" type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"  placeholder=\"请选择结束时间\" v-model=\"detailData.depositEndTime\"></el-date-picker>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">尾款支付时间:</div>\n        <el-date-picker class=\"timepicker-control\" size=\"small\" type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"  placeholder=\"请选择开始时间\" v-model=\"detailData.tailStartTime\"></el-date-picker>\n        <el-date-picker class=\"timepicker-control\" size=\"small\" type=\"datetime\" value-format=\"yyyy-MM-dd HH:mm:ss\"  placeholder=\"请选择结束时间\" v-model=\"detailData.tailEndTime\"></el-date-picker>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">活动商品:</div>\n        <a class=\"select-goods\" @click=\"showGoodsModal=true\">+ 选择商品</a>\n        <span class=\"form-tip\">(仅添加设置为预售商品，非预售商品无法参加此活动)</span>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">商品信息:</div>\n      </div>\n      <div class=\"goods-list\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th class=\"w300\">商品名称</th>\n              <th class=\"w150\" v-show=\"!userConfig.singleChannel\">渠道</th>\n              <th class=\"w150\">SKU</th>\n              <th class=\"w100\">商品价格</th>\n              <th class=\"w100\">库存</th>\n              <th class=\"w100\">限售</th>\n              <th>操作</th>\n            </tr>\n          </thead>\n          <tbody v-for=\"(item, index) in itemData\" :key=\"index\">\n            <tr v-for=\"(val, index1) in item.skuInfoList\" :key=\"index1\">\n              <td class=\"item-name\" :rowspan=\"item.skuInfoList.length+1\" v-if=\"index1 == 0\">\n                <img :src=\"item.mainImg\" />\n                <span><a>{{item.itemName}}</a></span>\n              </td>\n              <td :rowspan=\"item.skuInfoList.length+1\" v-show=\"!userConfig.singleChannel\">{{itemData.channelName}}</td>\n              <td>{{val.skuValue}}</td>\n              <td>{{val.price}}</td>\n              <td>{{val.stockNum}}</td>\n              <td><ApiInput v-model=\"val.limitNum\"/></td>\n              <td>\n                <a class=\"link\" @click=\"removeSku(index1,item.itemName)\">删除</a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">货币:</div>\n        <select class=\"form-control\" v-model=\"detailData.currency\">\n          <option :value=\"0\">请选择</option>\n          <option v-for=\"item in currencyList\" :key=\"item.code\" :value=\"item.code\">{{item.mixName}}</option>\n        </select>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">定金金额:</div>\n        <ApiInput v-model=\"detailData.depositAmount\" />\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">尾款金额:</div>\n        <ApiInput v-model=\"detailData.tailAmount\"/>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name\">是否限购:</div>\n        <el-radio name=\"disabled\" v-model=\"detailData.limit\" :label=\"1\">是</el-radio>\n        <el-radio name=\"disabled\" v-model=\"detailData.limit\" :label=\"0\">否</el-radio>\n      </div>\n      <div class=\"form-wrap\" v-show=\"detailData.limit\">\n        <div class=\"form-name\">限购数量:</div>\n        <ApiInput v-model=\"detailData.limitNum\"/>\n      </div>\n      <div class=\"form-wrap\">\n        <div class=\"form-name form-name-long\">活动结束后商品:</div>\n        <el-radio name=\"disabled\" v-model=\"detailData.statusAfterAct\" :label=\"1\">正常销售</el-radio>\n        <el-radio name=\"disabled\" v-model=\"detailData.statusAfterAct\" :label=\"0\">自动下架</el-radio>\n      </div>\n      <div class=\"btn-main\" @click=\"save()\">保存</div>\n    </div>\n    <selectActGoods v-if=\"showGoodsModal\" :presell=\"1\" v-on:dialogGoods=\"dialogGoods\" v-on:dialogGoodsCancel=\"dialogGoodsCancel\"></selectActGoods>\n  </div>\n</template>\n\n<script>\nimport selectActGoods from '@/components/selectActGoods/index.vue';\nexport default {\n  components: { selectActGoods },\n  data() {\n    return {\n      showGoodsModal: false,\n      isDisabled: 1,\n      currencyList:[],\n      itemData:{\n        // itemName: '',\n        // mainImg: '',\n        // channelName: '',\n        // items: []\n        // itemInfo:{\n        //   itemName: '',\n        //   mainImg: '',\n        //   channelType:'',\n        //   channelName: '',\n        //   itemId:'',\n        //   skuInfoList:[]\n        // }\n      },\n      detailData: {\n        name:'',\n        depositStartTime:'',\n        depositEndTime:'',\n        tailStartTime:'',\n        tailEndTime:'',\n        itemId:'',\n        skuSellLimit:'',\n        channelType:'',\n        currency:0,\n        depositAmount:'',\n        tailAmount:'',\n        limit:0,\n        limitNum:'',\n        statusAfterAct:''\n      }\n    }\n  },\n  created() {\n    let id = this.$route.params.id;\n    this.getCurrency();\n    if(id){\n      this.api.presell.get({id:id}).then((res) => {\n        this.detailData = res.data;\n        this.detailData.itemId = res.data.itemInfo.itemId;\n        this.itemData[res.data.itemInfo.itemName] = res.data.itemInfo;\n      });\n    }\n  },\n  methods: {\n    getCurrency() {\n      this.api.common.currency({}).then((res) => {\n        this.currencyList = res.data;\n        this.currencyList.forEach(item => {\n          item.mixName = item.symbol + ' ' + item.name;\n        });\n      });\n    },\n    dialogGoods(res) {\n      var count = 0;\n      for(let i in this.itemData){\n          count ++;\n          i\n      }\n      if(count >= 1 ){\n        this.$message.error({message:'不能修改活动信息', showClose:true});\n      } else {\n        res.goodsList.forEach(item => {\n            this.detailData.itemId = item.itemId;\n            this.detailData.skuSellLimit = [];\n            this.detailData.channelType = item.selectedChannel;\n            item.selectedSku.forEach(sku => {\n              this.itemData[item.itemName] = this.itemData[item.itemName] ? this.itemData[item.itemName] : {}\n              this.itemData[item.itemName].skuInfoList = this.itemData[item.itemName].skuInfoList ? this.itemData[item.itemName].skuInfoList : []\n              this.itemData[item.itemName].skuInfoList.push({\n                skuId: sku.skuId,\n                skuValue: sku.skuValue,\n                stockNum: sku.stockNum,\n                price: sku.price,\n                limitNum:'',\n              });\n            });\n            this.itemData[item.itemName].channelType = item.selectedChannel\n            this.itemData[item.itemName].channelName = item.selectedChannelName\n            this.itemData[item.itemName].itemId = item.itemId\n            this.itemData[item.itemName].itemName = item.itemName\n            this.itemData[item.itemName].mainImg = item.mainImg\n        });\n      }\n      this.showGoodsModal = false;\n    },\n    dialogGoodsCancel() {\n      this.showGoodsModal = false;\n    },\n    removeSku(index,name) {\n      this.itemData[name].skuInfoList.splice(index,1);\n      this.$forceUpdate()\n    },\n    save(){\n      let api = 'add';\n      if(this.detailData.id){\n        api = 'update';\n      }\n      this.detailData.skuSellLimit = [];\n      for( var i in this.itemData){\n        this.itemData[i].skuInfoList.forEach(item=>{\n          this.detailData.skuSellLimit.push({\n            skuId:item.skuId,\n            limitNum:item.limitNum\n          });\n        })\n      }\n      this.detailData.limitNum = this.detailData.limitNum || 0;\n      this.detailData.skuSellLimit = JSON.stringify(this.detailData.skuSellLimit);\n      this.api.presell[api](this.detailData).then(() => {\n        this.$message.success({message:'成功', showClose:true});\n        this.$router.push({ path: '/center/marketing/presell' });\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  .presell-detail{\n    .big-title{\n      color: #333333;\n      font-size: 14px;\n      font-weight: bold;\n      padding-bottom: 10px;\n    }\n    .wrap{\n      background: #fff;\n      padding: 20px 20px;\n      box-shadow: 0 2px 3px #E5E5E5;\n      border-radius: 4px;\n      .form-wrap{\n        margin-bottom: 15px;\n        .form-name{\n          vertical-align: top;\n          line-height: 30px;\n          width: 100px;\n        }\n        .form-name-long{\n          width: 120px;\n        }\n        .form-tip{\n          vertical-align: top;\n          line-height: 30px;\n        }\n        .timepicker-control{\n          width: 164px;\n          margin-right: 15px;\n        }\n        .select-goods{\n          display: inline-block;\n          vertical-align: top;\n          width: 110px;\n          height: 30px;\n          border: 1px dashed #F06941;\n          color: #F06941;\n          text-align: center;\n          line-height: 30px;\n          margin-right: 10px;\n          border-radius: 15px;\n          cursor: pointer;\n        }\n        .el-radio{\n          line-height: 30px;\n        }\n        &:last-child{\n          margin-bottom: 0;\n        }\n      }\n      .goods-list{\n        margin-bottom: 15px;\n        table {\n          width: 1000px;\n          border-collapse: collapse;\n          border-spacing: 0;\n          border-radius: 4px;\n          overflow: hidden;\n          box-shadow: 0 0 0 1px $border-color;\n          .w300{\n            width: 300px;\n          }\n          .w150{\n            width: 150px;\n          }\n          .w100{\n            width: 100px;\n          }\n          thead {\n            background: #EBEFFC;\n          }\n          .item-name{\n            \n            img{\n              display: inline-block;\n              vertical-align: top;\n              max-width: 54px;\n              max-height: 54px;\n            }\n            span{\n              display: inline-block;\n              vertical-align: top;\n              width: 210px;\n              white-space: normal;\n              word-break: break-all;\n              padding-left: 10px;\n              line-height: 18px;\n            }\n          }\n          tr {\n            th{\n              white-space: nowrap;\n            }\n            th, td {\n              padding: 10px;\n              text-align: left;\n              line-height: 20px;\n              vertical-align: middle;\n              .link{\n                margin-right: 10px;\n              }\n            }\n            td{\n              height: 75px;\n            }\n            .item-name{\n              a{\n                display: flex;\n                height: 54px;\n                align-items: center;\n              }\n            }\n          }\n        }\n      }\n    }\n    .el-dialog__body{\n      padding: 0;\n    }\n  }\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=610c3a9e&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}